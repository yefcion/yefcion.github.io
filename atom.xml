<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>一均七声</title>
  
  <subtitle>上琴台去</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yefcion.gitee.io/blog/"/>
  <updated>2020-01-07T14:52:49.347Z</updated>
  <id>https://yefcion.gitee.io/blog/</id>
  
  <author>
    <name>青实</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>离线使用维基百科（无需FQ）</title>
    <link href="https://yefcion.gitee.io/blog/2020/01/05/109-%E7%A6%BB%E7%BA%BF%E4%BD%BF%E7%94%A8%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91/"/>
    <id>https://yefcion.gitee.io/blog/2020/01/05/109-离线使用维基百科/</id>
    <published>2020-01-05T08:58:37.000Z</published>
    <updated>2020-01-07T14:52:49.347Z</updated>
    
    <content type="html"><![CDATA[<p>本文根据 <a href="https://www.cnblogs.com/ma-ming/" target="_blank" rel="noopener">精美的石头会唱歌</a> 的博客总结，原文见 <a href="https://www.cnblogs.com/ma-ming/p/11963081.html" target="_blank" rel="noopener">离线版的维基百科</a> 。</p><h3 id="1-下载-Kiwix"><a href="#1-下载-Kiwix" class="headerlink" title="1. 下载 Kiwix"></a>1. 下载 Kiwix</h3><p>拥有图形化界面的维基百科数据库驱动。</p><p>官网地址：<a href="https://www.kiwix.org/en/" target="_blank" rel="noopener">https://www.kiwix.org/en/</a></p><p>下载地址：<a href="https://mirrors.dotsrc.org/kiwix/release/kiwix-desktop/" target="_blank" rel="noopener">https://mirrors.dotsrc.org/kiwix/release/kiwix-desktop/</a></p><p>下载完成后解压即可使用</p><h3 id="2-下载-维基百科的离线数据包"><a href="#2-下载-维基百科的离线数据包" class="headerlink" title="2. 下载  维基百科的离线数据包"></a>2. 下载  维基百科的离线数据包</h3><p>下载地址：<a href="http://download.kiwix.org/zim/wikipedia/?C=S;O=D" target="_blank" rel="noopener">http://download.kiwix.org/zim/wikipedia/?C=S;O=D</a></p><p>下载完成后使用 Kiwix 打开</p><h3 id="3-使用-维基百科"><a href="#3-使用-维基百科" class="headerlink" title="3. 使用 维基百科"></a>3. 使用 维基百科</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本文根据 &lt;a href=&quot;https://www.cnblogs.com/ma-ming/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;精美的石头会唱歌&lt;/a&gt; 的博客总结，原文见 &lt;a href=&quot;https://www.cnblogs.com/ma
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="Wiki" scheme="https://yefcion.gitee.io/blog/tags/Wiki/"/>
    
  </entry>
  
  <entry>
    <title>20_Flag</title>
    <link href="https://yefcion.gitee.io/blog/2019/12/12/751-20-flag/"/>
    <id>https://yefcion.gitee.io/blog/2019/12/12/751-20-flag/</id>
    <published>2019-12-11T16:01:58.000Z</published>
    <updated>2020-03-21T17:24:26.211Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/$RH2C8DJ.jpg" alt></p><p><strong>写在前面</strong></p><p>Flag 应该具备可验证性，所以尽量能用数据衡量</p><h3 id="修习"><a href="#修习" class="headerlink" title="修习"></a>修习</h3><blockquote><p> 享受诗书光影带来的快乐 </p></blockquote><ul><li><strong>观影量破</strong> 1000 部 # 数据-豆瓣</li><li><strong>保持读书</strong> 3 本/月，至少 6 本技术类 # 数据-豆瓣</li><li><strong>日常拍照</strong> 每日一张 # 数据-资源管理器</li><li><strong>节气摄影</strong> 24 组，理解节气特质 # 数据-资源管理器</li><li><strong>人像摄影</strong> 2组，真正的写真（男/女）</li><li><strong>继续践行</strong> 中文排版指北规范，维护博客（平均每两周一篇） # 数据-yefcion.github.io</li></ul><h3 id="技能"><a href="#技能" class="headerlink" title="技能"></a>技能</h3><blockquote><p>以技术立身，为万世开太平</p></blockquote><ul><li>学会盲打，提高打字速度</li><li>Gitee 提交 至少平均 3 天 1 次 # 数据-年度截图</li><li>掌握 SSM 技术栈，开发独立项目</li></ul><h3 id="养生"><a href="#养生" class="headerlink" title="养生"></a>养生</h3><blockquote><p>身体健康从吃饭做起</p></blockquote><ul><li>认真吃饭 日常三餐不剩米饭，体重稳定在 65kg</li><li>爱护头发 用复方酮康唑，解决头发炎症</li><li>睡眠时间 年末稳定在最迟 12 点 30 # 数据-小米运动睡眠</li></ul><h3 id="经济"><a href="#经济" class="headerlink" title="经济"></a>经济</h3><blockquote><p>小康社会不做个傻子</p></blockquote><ul><li>持续记账 年中掌握规划预算的能力 # 数据-网易有钱</li><li>学习经济 具备理财基础知识</li><li>会看房子 年末 get 给钱就知道买哪儿房子的技能</li><li>养老基金 每月 1000</li></ul><h3 id="出行"><a href="#出行" class="headerlink" title="出行"></a>出行</h3><blockquote><p>去一个想去且足够远的地方 # 数据-谷歌地图</p></blockquote><ul><li>城市 成都</li><li>草原 内蒙</li><li>海滩 海南</li><li>天空 西藏</li></ul>]]></content>
    
    <summary type="html">
    
      我的 2020 计划
    
    </summary>
    
    
      <category term="纪年" scheme="https://yefcion.gitee.io/blog/categories/%E7%BA%AA%E5%B9%B4/"/>
    
    
      <category term="ZTE" scheme="https://yefcion.gitee.io/blog/tags/ZTE/"/>
    
      <category term="计划" scheme="https://yefcion.gitee.io/blog/tags/%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>19 统记</title>
    <link href="https://yefcion.gitee.io/blog/2019/12/12/708-19-%E7%BB%9F%E8%AE%B0/"/>
    <id>https://yefcion.gitee.io/blog/2019/12/12/708-19-统记/</id>
    <published>2019-12-11T16:00:58.000Z</published>
    <updated>2020-03-22T01:03:06.801Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>写在前面</p><p>2019 年渐入尾声，本以为今年的欢愉或痛苦会因为我的健忘而不起波澜。结果在年尾，有人丢石头，吓我一跳。</p><p>今年很好奇别人的爱好，想听人讲自己的经历、见解，听到感兴趣的想去尝试。只是今年新认识的人不多，认识之后交流两次问完好奇便也不知如何继续下去。所以觉得以电影去探求经历可能更轻松一点。 </p><p>看了 200 多部电影，见识了 200 种平淡或浮夸的人生。我去消遣电影情节、解构导演意图、模仿/规避剧中行为，就假设我经历过那人生的一程又一程。我花了时间去做这些消遣，最后却不知道得到了什么。也不知我这平淡无奇的人生，值得多少精巧构思来填补。</p><p>去年我说要用数据去统计、规范自己，就尽力去做了。现在做起总结，有条理有记录很轻松。以后做事大概会更加目的导向，数据驱动。有得有失。</p></blockquote><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><ul><li><strong>读书 - 36 本，字数 621.55W</strong></li><li><strong>影视 - 270 部，去掉补标应该有 220 部</strong></li><li>摄影 - 每日一记 + 游记</li><li>出行 - 沪宁锡常</li><li>体重 - 均 62.16kg</li><li>睡眠<ul><li>入睡时间：01:29</li><li>睡眠时长：6h55m</li></ul></li></ul><h4 id="读书统计"><a href="#读书统计" class="headerlink" title="读书统计"></a>读书统计</h4><p><img src="img/2019-readList.jpg" alt="read_list"></p><h4 id="观影统计"><a href="#观影统计" class="headerlink" title="观影统计"></a>观影统计</h4><p><img src="img/2019-movie.jpg" alt="观影统计"></p><h4 id="每日一记"><a href="#每日一记" class="headerlink" title="每日一记"></a>每日一记</h4><p><img src="./img/2019-gridphotos.jpg" alt="每日一记"></p><h4 id="出行足迹"><a href="#出行足迹" class="headerlink" title="出行足迹"></a>出行足迹</h4><p><img src="img/map.jpg" alt="travel trace"></p><h4 id="睡眠数据"><a href="#睡眠数据" class="headerlink" title="睡眠数据"></a>睡眠数据</h4><img src="img/image-20191215205326887.png" alt="image-20191215205326887" style="zoom: 65%;"><h4 id="步数-amp-体重"><a href="#步数-amp-体重" class="headerlink" title="步数&amp;体重"></a>步数&amp;体重</h4><img src="img/2019-w&step.jpg" alt="image-20191215211959657" style="zoom: 50%;"><h4 id="格志日记"><a href="#格志日记" class="headerlink" title="格志日记"></a>格志日记</h4><p><img src="./img/2019-gird.jpg" alt="grid"></p><h4 id="照片精选"><a href="#照片精选" class="headerlink" title="照片精选"></a>照片精选</h4><p><img src="img/2019-photos.jpg" alt="photos"></p><h3 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h3><p><img src="img/2019-rec-book.jpg" alt="movie"></p><p><img src="img/2019-rec-movie.jpg" alt="movie"></p><h3 id="遗憾"><a href="#遗憾" class="headerlink" title="遗憾"></a>遗憾</h3><p>即使买了喜欢的键盘，依然没有学会盲打，且打字速度不快</p><p>9 月宣言连两个月都没撑过就宣告破产</p><p>想选出我的年度十佳摄影作品，竟然凑<a href="https://tuchong.com/11378380/posts" target="_blank" rel="noopener">不齐</a></p><p>涛哥在我转正的时候要走了</p><p>没能去看草原夜空，来年想去世界尽头的冷酷仙境</p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>滴答清单上完成了很多整洁的 task，一些日常习惯已养成</p><p>读书月均 3 本，继续保持</p><p>带数据逃离网站，知乎、酷安、微博（网易云、B 站在筹备），用蚂蚁宝卡塑造影分身</p><h3 id="精彩瞬间"><a href="#精彩瞬间" class="headerlink" title="精彩瞬间"></a>精彩瞬间</h3><p>学业结束，终身学习</p><p>Been a ZTEr</p><p>跟 ZTEr 拍视频，感受到视频的乐趣</p><p>王者荣耀，蔡姬王者</p><p>去孟小越那蹭小路学姐和小代学长的饭</p><p>和我喜欢的人彻夜长谈</p><p>跟珠珠清清老师带买衣服</p><p>与小田出行，并完成我对书房的一半幻想</p><p>和蛋蛋朵朵在一起的每一刻</p><p>读完了我看过最厚<a href="《斗破苍穹》、《雪中悍刀行》，天黑请闭嘴">^1</a>的一本出版书《南渡北归》，151 万字，前后跨度约 4 年</p>]]></content>
    
    <summary type="html">
    
      我的 2019 统计
    
    </summary>
    
    
      <category term="纪年" scheme="https://yefcion.gitee.io/blog/categories/%E7%BA%AA%E5%B9%B4/"/>
    
    
      <category term="研究生" scheme="https://yefcion.gitee.io/blog/tags/%E7%A0%94%E7%A9%B6%E7%94%9F/"/>
    
      <category term="ZTE" scheme="https://yefcion.gitee.io/blog/tags/ZTE/"/>
    
      <category term="总结" scheme="https://yefcion.gitee.io/blog/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>十大排序算法</title>
    <link href="https://yefcion.gitee.io/blog/2019/10/30/160-%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    <id>https://yefcion.gitee.io/blog/2019/10/30/160-十大排序算法/</id>
    <published>2019-10-30T12:39:46.000Z</published>
    <updated>2020-03-22T00:56:05.888Z</updated>
    
    <content type="html"><![CDATA[<p>![](<a href="https://raw.githubusercontent.com/yefcion/PicData/master/img/安之若素" target="_blank" rel="noopener">https://raw.githubusercontent.com/yefcion/PicData/master/img/安之若素</a> - 袁笛工作室 - 图虫网 - 优质摄影师交流社区.jpg)</p><p>[TOC]</p><p>转载： <a href="https://www.cnblogs.com/xiaohuiduan/" target="_blank" rel="noopener">于风‘s blog</a></p><h1 id="算法之排序"><a href="#算法之排序" class="headerlink" title="算法之排序"></a>算法之排序</h1><p>排序算法基本上是我们无论是在项目中还是在面试中都会遇到的问题，加上最近在看《算法》这本书，所以就准备好好的将排序算法整理一下。</p><blockquote><p>所有排序算法都是基于 Java 实现，为了简单，只使用了int类型，从小到大排序</p></blockquote><ul><li>基本排序</li><li>高效的排序</li><li>各大排序的时间测试</li><li>如何选择排序</li></ul><h2 id="排序之基本排序算法"><a href="#排序之基本排序算法" class="headerlink" title="排序之基本排序算法"></a>排序之基本排序算法</h2><p>准备阶段：有一个交换位置的函数exc</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 交换a数组中i和j的位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a 需要交换的数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> i 位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> j 位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exc</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 当他们相等的时候就没必要进行交换</span></span><br><span class="line">    <span class="keyword">if</span>(a[i] != a[j])&#123;</span><br><span class="line">        a[i] ^= a[j];</span><br><span class="line">        a[j] ^= a[i];</span><br><span class="line">        a[i] ^= a[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>基本排序算法主要是分为插入排序，选择排序，冒泡排序和梳排序。</p><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p><strong>原理：</strong> 选择排序的原理很简单，就是从需要排序的数据中<code>选择</code>最小的（从小到大排序），然后放在第一个，选择第二小的放在第二个……</p><p><strong>代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 选择排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a 进行排序的数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] selectionSort(<span class="keyword">int</span> a[])&#123;</span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">        min = i;</span><br><span class="line">        <span class="comment">// 这个for循环是为了找出最小的值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; a.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[min]&gt;a[j])&#123;</span><br><span class="line">                min = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/** 如果第一个取出的元素不是最小值，就进行交换</span></span><br><span class="line"><span class="comment">         * 意思就是：如果取出的元素就是最小值，那么就没有必要进行交换了    */</span></span><br><span class="line">        <span class="keyword">if</span>(min != i)&#123;</span><br><span class="line">            <span class="comment">// 进行交换</span></span><br><span class="line">            exc(a, i, min);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>选择排序的动画演示</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181858504-1948293626.gif" alt="img"></p><ul><li><p>假如数组的长度是N，则时间复杂度：</p><p>进行比较的次数：(N-1)+(N-2)+……+1 = N(N-1)/2</p><p>进行交换的次数：N</p></li><li><p>特点：（稳定）</p><ol><li>运行时间与输入无关。因为前一次的扫描并不能为后面的提供信息。</li><li>数据的移动次数是最小的。</li></ol></li></ul><h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p><strong>原理：</strong> 如果数组进行循环得到a，若a比a前面的一个数小，则a就与前面数交换位置（相当于a向前面移动一位），若移动后a任然比前面一个数小，则再向前移动一位……</p><p><strong>代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 插入排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a 进行排序的数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 返回排序好的数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] insertSort(<span class="keyword">int</span> a[]) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="comment">// 如果a[i]比前面的数字小，则a[i]向前挪</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt;<span class="number">0</span> &amp;&amp; (a[j-<span class="number">1</span>]&gt;a[j]); j--) &#123;</span><br><span class="line">            exc(a, j, j-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>动画演示：</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181905771-748910235.gif" alt="img"></p><ul><li><p>若数组的长度是N（不重复 ），则时间复杂度：</p><ol><li>平均：N<em>N/4 次比较，N</em>N/4次交换</li><li>最好：N-1次比较，0次交换</li><li>最坏：N<em>N/2次比较， N</em>N/2次交换</li></ol></li><li><p>特点：</p><p>若数据倒置的数量很少时，速度快。</p></li></ul><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p><strong>原理：</strong> 冒泡排序的原理就是小的数字慢慢的往上浮。从数组最后面开始循环，如果一个数比它前面数小，则交换两者位置。</p><p><strong>代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 冒泡排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] bubbleSort(<span class="keyword">int</span>[] a) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// 小的数字向上冒泡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>  j= N-<span class="number">1</span>; j &gt; i; j--) &#123;</span><br><span class="line">            <span class="comment">// 交换位置</span></span><br><span class="line">            <span class="keyword">if</span>(a[j-<span class="number">1</span>]&gt;a[j])&#123;</span><br><span class="line">                exc(a, j-<span class="number">1</span>, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>冒泡排序的动画示意图：</p><p>这个示意图和代码刚好相反，这个是将大的向后下沉</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181912469-1066135142.jpg" alt="img"></p><p>时间复杂度：</p><ol><li>平均情况下：冒泡比较的次数约是插入排序的两倍，移动次数一致。</li><li>平均情况下：冒泡与选择排序的比较此时是一样的，移动比选择排序多出n次</li></ol><p>冒泡算法的改进：</p><p>改进部分就是，如果在第二层for循环中，如果不发生交换，则代表数据已经排好序了，不需要继续排序。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 冒泡排序的优化</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] bubbleSort2(<span class="keyword">int</span>[] a) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span> &amp;&amp; flag; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = N-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (flag = <span class="keyword">false</span>; j &gt; i; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j-<span class="number">1</span>]&gt;a[j])&#123;</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                exc(a, j-<span class="number">1</span>, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>bubbleSort2()并不是一个多么令人欣喜的改进，但是基于bubbleSort2()的梳排序，却值得研究一下</p><p> ——《C++数据结构与算法》</p></blockquote><h2 id="排序之高效排序算法"><a href="#排序之高效排序算法" class="headerlink" title="排序之高效排序算法"></a>排序之高效排序算法</h2><h3 id="梳排序"><a href="#梳排序" class="headerlink" title="梳排序"></a>梳排序</h3><p><strong>原理：</strong> 梳排序分为两部分，第一部分通过步长stepn进行简单的排序，将大的数据集中到后面。第二部分是使用bubbleSort2()进行排序。</p><p>通过第一部分step的比较，我们能够有效的消除数组中的乌龟(即在数组尾部的较小的数值)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 梳排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] combSort(<span class="keyword">int</span>[] a) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">int</span> step = N;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="comment">// 第一部分</span></span><br><span class="line">    <span class="keyword">while</span>((step /= <span class="number">1.3</span>) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = N-<span class="number">1</span>; i &gt;= step; i--) &#123;</span><br><span class="line">            k = i -step;</span><br><span class="line">            <span class="keyword">if</span>(a[k]&gt;a[i])&#123;</span><br><span class="line">                <span class="comment">// 交换位置</span></span><br><span class="line">                exc(a, k, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 第二部分：进行冒泡排序</span></span><br><span class="line">    a= bubbleSort2(a);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>梳排序动画示意图：</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181920250-1497473571.gif" alt="Comb sort demo.gif"></p><p>在梳排序中，原作者用随机数做实验，得到了最有效的递减效率是1.3。也就是<code>step/=1.3</code>,同样也可以写成<code>step *= 0.8</code>,因为编程语言乘法比除法快。</p><h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><p>希尔排序是基于插入排序进行改进，又称之为<code>递减增量排序</code>。在前面中我们知道，插入排序是将小的元素往前挪动位置，并且每次只移动一个位置。那么希尔排序是怎么解决这个问题的呢？</p><p><strong>原理</strong>：希尔排序的理念和梳排序的理念有点类似。在梳排序中，我们比较距离相差为<code>step</code>的两个元素来完成交换。在希尔排序中，我们的做法也是类似。我们在数组中每隔<code>h</code>取出数组中的元素，然后进行插入排序。当h=1时，则就是前面所写的插入排序了。</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181926472-891194513.jpg" alt="原理图"></p><p><strong>代码实现：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * shell排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] shellSort(<span class="keyword">int</span>[] a)&#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">int</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 增量序列</span></span><br><span class="line">    <span class="keyword">while</span>(h &lt; N/<span class="number">3</span>)&#123;</span><br><span class="line">        <span class="comment">// h = 1,4,13,40,……</span></span><br><span class="line">        h = h*<span class="number">3</span> + <span class="number">1</span>; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(h&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = h; i &lt; N; i++) &#123;</span><br><span class="line">            <span class="comment">// 进行插入排序，诺a[j]比a[j-h]小，则向前挪动h</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt;= h &amp;&amp; a[j-h]&gt;a[j]; j -= h) &#123;</span><br><span class="line">                exc(a, j, j-h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        h /= <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p><strong>原理：</strong> 快速排序使用分治法（Divide and conquer）策略来把一个序列分为较小和较大的2个子序列，然后递归地排序两个子序列。</p><p>步骤为：</p><ol><li>挑选基准值：从数列中挑出一个元素，称为“基准”（pivot），</li><li>分割：重新排序数列，所有比基准值小的元素摆放在基准前面，所有比基准值大的元素摆在基准后面（与基准值相等的数可以到任何一边）。在这个分割结束之后，对基准值的排序就已经完成，</li><li>递归排序子序列：递归地将小于基准值元素的子序列和大于基准值元素的子序列排序。</li></ol><p>递归到最底部的判断条件是数列的大小是零或一，此时该数列显然已经有序。</p><blockquote><p>选取基准值有数种具体方法，此选取方法对排序的时间性能有决定性影响。</p></blockquote><p><strong>快速排序的实现代码：</strong></p><p>在前面我们知道，选取正确的基准值对排序的性能有着决定性的影响，在这里我们选择序列中间的值作为基准值。</p><p>代码主要分为两个部分：</p><ol><li>进行切分的代码</li><li>进行递归调用的代码</li></ol><p><strong>第一部分</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 进行切分，并进行交换</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a 数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> lo 切分开始的位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> h 切分结束的位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 返回分界点的位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span> lo,<span class="keyword">int</span> h)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 选取中间的值为基准值</span></span><br><span class="line">    <span class="keyword">int</span> middle = (lo+h+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> v = a[middle];</span><br><span class="line">    <span class="comment">// 将基准值和a[lo]交换位置</span></span><br><span class="line">    exc(a, lo, middle);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="keyword">int</span> j = h+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 假如左边的小于基准值，则一直进行循环</span></span><br><span class="line">        <span class="keyword">while</span>(a[++i] &lt; v)&#123;</span><br><span class="line">            <span class="comment">// 防止越界</span></span><br><span class="line">            <span class="keyword">if</span>(i == h)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 假如右边的大于基准值，则一直进行循环</span></span><br><span class="line">        <span class="keyword">while</span>(a[--j]&gt;v)&#123;</span><br><span class="line">            <span class="keyword">if</span>(j == lo)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 一旦i&gt;=j则代表i前面的除第一个外都比基准值小，j后面的都比基准值大，这时候就可以跳出循环了</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=j)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 进行交换(因为a[lo]&gt;v,a[h]&lt;v，所以将两者进行交换)</span></span><br><span class="line">        exc(a, i,j);   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将基准放到分界点</span></span><br><span class="line">    exc(a, lo, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>第二部分：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 调用quickSort函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a 数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line">        quickSort(a,<span class="number">0</span>,a.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 进行递归的快排</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> lo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> h</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span> lo,<span class="keyword">int</span> h)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(h &lt;= lo) &#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// j为基准值的位置</span></span><br><span class="line">    <span class="keyword">int</span> j = partition(a, lo, h);</span><br><span class="line">    <span class="comment">// 进行递归调用，将j前面的进行快排</span></span><br><span class="line">    quickSort(a,lo,j-<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 进行递归调用，将j后面的进行快排</span></span><br><span class="line">    quickSort(a,j+<span class="number">1</span>,h);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>快速排序动画示意图</strong>：</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181932034-1356049951.gif" alt="Sorting quicksort anim.gif"></p><p><strong>特点：</strong></p><p>快速排序在最坏的情况下时间复杂度是O(n**2),平均时间复杂度是O(nlogn)。快速排序基本上被认为是相同数量级的所有排序算法中，平均性能最好的。</p><h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><p>原理：堆排序是利用堆这个数据结构而设计的一种排序算法。</p><blockquote><p>堆是具有以下性质的完全二叉树：每个结点的值都大于或等于其左右孩子结点的值，称为大顶堆；或者每个结点的值都小于或等于其左右孩子结点的值，称为小顶堆。</p></blockquote><p>接下来我们将使用<code>大顶堆</code>来进行从小到大的排序。<a href="https://www.cnblogs.com/chengxiao/p/6129630.html" target="_blank" rel="noopener">图源</a>这位大佬讲的不错！！</p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181937630-925955971.png" alt="img"></p><p>在一个堆中，位置k的结点的父元素的位置是<code>(k+1)/2-1</code>，而它的两个子节点的位置分别是<code>2k+1</code>和<code>2k+2</code>，这样我们就可以通过计算数组的索引在树中上下移动。</p><p>那么我们 进行堆排序， 应该怎么做呢？首先，我们得构建一个堆（大顶堆）。构建的思路就是：我们将小的元素下沉（sink()）即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 小的结点往下移动</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k 开始移动的位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> N 下沉结束位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sink</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span> k,<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 满足向下移动的条件</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">2</span>*k+<span class="number">1</span> &lt;= N)&#123;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">2</span>*k + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 从 a[j]和a[j+1]中a比较出较大的元素</span></span><br><span class="line">        <span class="keyword">if</span>(j &lt; N -<span class="number">1</span> &amp;&amp; a[j+<span class="number">1</span>] &gt; a[j])&#123;</span><br><span class="line">            j ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[j] &lt; a[k])&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 将大的元素移动到上面去 </span></span><br><span class="line">        exc(a, k, j);</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们通过调用sink()函数和一些逻辑就可以得到一个大顶堆了。【注意：在大顶堆中，可以很简单的知道堆顶的元素是最大值】那么我们如何进行堆排序呢？这时候我们可以将对顶的元素移动到最后使得末尾的元素最大，然后我们继续调用sink函数，又可以使得堆顶的元素最大（实则为总的第二大），然后继续重复以前的操作即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heepSort</span><span class="params">(<span class="keyword">int</span>[] a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造一个堆有序</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = N/<span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        sink(a, i,N - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    N = N -<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 然后进行下沉排序</span></span><br><span class="line">    <span class="keyword">while</span>(N&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        exc(a, <span class="number">0</span>, N--);</span><br><span class="line">        sink(a, <span class="number">0</span>,N);</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>动画演示：</strong></p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181944144-626869333.jpg" alt="img"></p><p><strong>堆排序的特点：</strong></p><ul><li>最好、最坏、平均的时间复杂都为O(nlogn)，空间复杂度为O(1)。</li><li>是一种不稳定的排序。</li></ul><h2 id="牺牲空间节约时间的高效排序"><a href="#牺牲空间节约时间的高效排序" class="headerlink" title="牺牲空间节约时间的高效排序"></a>牺牲空间节约时间的高效排序</h2><h3 id="归并排序（Merge-Sort）"><a href="#归并排序（Merge-Sort）" class="headerlink" title="归并排序（Merge Sort）"></a>归并排序（Merge Sort）</h3><p>归并排序的核心思想是分治法，是创建在归并操作上面的一种有效的排序算法。</p><p><strong>原理：</strong></p><p>采用分治法:</p><ul><li><p>分割：递归地把当前序列平均分割成两半。</p></li><li><p>集成：在保持元素顺序的同时将上一步得到的子序列集成到一起（归并）。</p><p>原理图：<img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181950255-926404107.gif" alt="img"></p></li></ul><p><strong>代码实现：</strong></p><p>首先我们来实现数组之间的归并操作：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 临时空间</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] aux;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 进行归并操作</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a　数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> lo　第一部分数组的开始位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> middle　第一部分数组归并的结束位置</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> hi　第二部分数组归并的结束位置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span> lo,<span class="keyword">int</span> middle,<span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="comment">// 第二部分数组归并的开始位置</span></span><br><span class="line">    <span class="keyword">int</span> j = middle +<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将a[lo..hi]的内容复制到aux[lo..hi]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++) &#123;</span><br><span class="line">        aux[k] = a[k];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> z = lo; z &lt;= hi; z++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i &gt; middle)&#123;</span><br><span class="line">            a[z] = aux[j++];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(j &gt; hi)&#123;</span><br><span class="line">            a[z] = aux[i++];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(aux[i] &gt; aux[j])&#123;</span><br><span class="line">            a[z] = aux[j++];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            a[z] = aux[i++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>MergeSort算法调用：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line">    aux = <span class="keyword">new</span> <span class="keyword">int</span>[a.length];  </span><br><span class="line">    mergeSort(a, <span class="number">0</span>, a.length-<span class="number">1</span>);</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lo &gt;= hi)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> middle = (lo + hi)/<span class="number">2</span>;</span><br><span class="line">    <span class="comment">// 对左半边进行排序</span></span><br><span class="line">    mergeSort(a,lo,middle);</span><br><span class="line">    <span class="comment">// 对右半边进行排序</span></span><br><span class="line">    mergeSort(a,middle+<span class="number">1</span>,hi);</span><br><span class="line">    <span class="comment">// 进行归并</span></span><br><span class="line">    merge(a, lo, middle, hi);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特点：</strong></p><p>归并排序是一种稳定的并且十分高效的排序。在时间复杂度方面，mergeSort的时间复杂度是O(nlogn)【无论是最好还是最坏的情况】，空间复杂度是O(n)。</p><h3 id="基数排序（非比较排序）"><a href="#基数排序（非比较排序）" class="headerlink" title="基数排序（非比较排序）"></a>基数排序（非比较排序）</h3><ol><li><p>实例分析</p><p>基数排序的方式有 LSD (Least sgnificant digital) 和 MSD (Most sgnificant digital)两种方式。LSD 的排序方式由键值的最右边开始，而 MSD 则相反，由键值的最左边开始。 以 LSD 为例</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [10 123 732 67 5 918 7 ]</span><br></pre></td></tr></table></figure><p>首先根据个位数的数值，j将数据分配到不同的桶中</p><table><thead><tr><th align="left">编号</th><th align="left">0</th><th align="left">1</th><th align="left">2</th><th align="left">3</th><th align="left">4</th><th align="left">5</th><th align="left">6</th><th align="left">7</th><th align="left">8</th><th align="left">9</th></tr></thead><tbody><tr><td align="left"></td><td align="left">10</td><td align="left"></td><td align="left">732</td><td align="left">123</td><td align="left"></td><td align="left">5</td><td align="left"></td><td align="left">67</td><td align="left">918</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">7</td><td align="left"></td><td align="left">99</td></tr></tbody></table><p> 然后，将这些数字按照桶以及桶内部的排序连接起来：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [10 732 123 5 67 7 918]</span><br></pre></td></tr></table></figure><p> 接着按照十位的数值，放入不同的桶中（<em>ps:5的十位是0</em>）</p><table><thead><tr><th align="left">编号</th><th align="left">0</th><th align="left">1</th><th align="left">2</th><th align="left">3</th><th align="left">4</th><th align="left">5</th><th align="left">6</th><th align="left">7</th><th align="left">8</th><th align="left">9</th></tr></thead><tbody><tr><td align="left"></td><td align="left">5</td><td align="left">10</td><td align="left">123</td><td align="left">732</td><td align="left"></td><td align="left"></td><td align="left">67</td><td align="left"></td><td align="left">918</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">7</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><p> 重复连接操作，完成排序：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [5 7 10 123 732 67 918]</span><br></pre></td></tr></table></figure><p> 最后根据百位的数值，放入不同的桶中（<em>ps:5的十位是0</em>）</p><table><thead><tr><th align="left">编号</th><th align="left">0</th><th align="left">1</th><th align="left">2</th><th align="left">3</th><th align="left">4</th><th align="left">5</th><th align="left">6</th><th align="left">7</th><th align="left">8</th><th align="left">9</th></tr></thead><tbody><tr><td align="left"></td><td align="left">5</td><td align="left">123</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">732</td><td align="left"></td><td align="left">918</td></tr><tr><td align="left"></td><td align="left">7</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"></td><td align="left">10</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"></td><td align="left">67</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><p> 最后重复连接操作，完成排序：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [5 7 10 67 123 732 918]</span><br></pre></td></tr></table></figure><p><strong>代码实现</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = a[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> value : a) &#123;</span><br><span class="line">        <span class="keyword">if</span>(max &lt; value)&#123;</span><br><span class="line">            max = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 找出最大位数N</span></span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(max == <span class="number">0</span>)&#123;</span><br><span class="line">        N = <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        N = (<span class="keyword">int</span>) (Math.log10(max) + <span class="number">1</span>);</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="comment">// 进行基数排序</span></span><br><span class="line">    radixSort(a,N);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基数排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> N 最大位数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相当于博客中表格的编号</span></span><br><span class="line">    <span class="keyword">int</span> radix = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> length = a.length;</span><br><span class="line">    <span class="comment">// 代表1，10,100……</span></span><br><span class="line">    <span class="keyword">int</span> factor = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//之所以将二位数组的高度设置为length是为了防止极端情况【即所有数据的最高位数相同】</span></span><br><span class="line">    <span class="keyword">int</span>[][] bucket = <span class="keyword">new</span> <span class="keyword">int</span>[radix][length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 记录每一个bucket里面有多少个元素</span></span><br><span class="line">    <span class="keyword">int</span>[] order = <span class="keyword">new</span> <span class="keyword">int</span>[radix];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;N;i++,factor *= <span class="number">10</span>)&#123;</span><br><span class="line">        <span class="comment">// 将数据放入桶中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v : a) &#123;</span><br><span class="line">            <span class="keyword">int</span> digit = (v/factor)%<span class="number">10</span>;            </span><br><span class="line"></span><br><span class="line">            bucket[digit][order[digit]] = v;</span><br><span class="line">            order[digit] ++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> position = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 将桶中的数据重新连接放入数组中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j =<span class="number">0</span>;j&lt;radix;j++ )&#123;</span><br><span class="line">            <span class="comment">// 假如里面有数据</span></span><br><span class="line">            <span class="keyword">if</span>(order[j] != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">// 将数据放入数组中</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; order[j]; k++) &#123;</span><br><span class="line">                    a[position++] = bucket[j][k];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 将计数器置零</span></span><br><span class="line">                order[j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特点：</strong></p><ol><li>不依赖于数据比较。</li><li>时间复杂度为O(k*n)；空间复杂度为O(n)</li></ol><h3 id="计数排序（非比较排序）"><a href="#计数排序（非比较排序）" class="headerlink" title="计数排序（非比较排序）"></a>计数排序（非比较排序）</h3><p><strong>原理：</strong></p><p>计数排序使用一个额外的数组C，其中C中第i个元素是待排序数组A中值等于i的元素的个数。然后根据数组C来将A中的元素排到正确的位置。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 计数排序</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> max = a[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// 找出最大值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : a) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v &gt; max)&#123;</span><br><span class="line">            max = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 辅助数组</span></span><br><span class="line">    <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[max+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将数据的个数储存到count数组中</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : a) &#123;</span><br><span class="line">        count[v] ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> indexArray = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(count[i] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            a[indexArray++]=i;</span><br><span class="line">            count[i] --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当然，如果数据比较集中的话，我们大可不必创建那么大的数组，我们找出最小和最大的元素，以最小的元素作为基底以减小数组的大小。</p><p><strong>动画演示：</strong></p><p><img src="https://img2018.cnblogs.com/blog/1439869/201907/1439869-20190717181956666-954920412.gif" alt="img"></p><p><strong>特点：</strong></p><ol><li>计数排序是一种稳定的线性时间排序算法。</li><li>时间复杂度为O(n+k)，空间复杂度为O(n+k)</li></ol>]]></content>
    
    <summary type="html">
    
      my blog server
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="算法" scheme="https://yefcion.gitee.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="排序" scheme="https://yefcion.gitee.io/blog/tags/%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis_02 SpringBoot 下配置 MyBatis 环境</title>
    <link href="https://yefcion.gitee.io/blog/2019/10/12/111-MyBatis01/"/>
    <id>https://yefcion.gitee.io/blog/2019/10/12/111-MyBatis01/</id>
    <published>2019-10-12T13:40:27.000Z</published>
    <updated>2020-03-22T01:01:17.308Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-首先创建-Maven-项目"><a href="#0-首先创建-Maven-项目" class="headerlink" title="0. 首先创建 Maven 项目"></a>0. 首先创建 Maven 项目</h2><p>Maven 的包管理非常方便。在 IDEA 中创建新项目，选中 Maven。</p><p>注意命名 </p><p>GroupId: com.yefcion</p><p>组织名，公司网址的反写 + 项目名称</p><p>ArtifactId: mybatis-learn</p><p>项目名-模块名</p><h2 id="1-创建一张表，写一个类"><a href="#1-创建一张表，写一个类" class="headerlink" title="1. 创建一张表，写一个类"></a>1. 创建一张表，写一个类</h2><h3 id="1-1-创建表-country"><a href="#1-1-创建表-country" class="headerlink" title="1.1 创建表 country"></a>1.1 创建表 country</h3><p>确认本地安装了数据库，或者连接服务器上的数据库也可以。注意，数据库登录账户、密码要在 <code>config.xml</code> 中配置。</p><p>使用 NaviCat 或者命令行登录自己要使用的数据库，输入如下代码，创建 <code>Country</code> 表。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 如果 mybatis_action_db 数据库不存在，就创建 mybatis_action_db 数据库：</span><br><span class="line">CREATE DATABASE IF NOT EXISTS mybatis_action_db DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line"></span><br><span class="line">-- 切换到 mybatis_action_db 数据库</span><br><span class="line">use mybatis_action_db;</span><br><span class="line"></span><br><span class="line">-- 删除classes表和students表（如果存在）：</span><br><span class="line">DROP TABLE IF EXISTS country;</span><br><span class="line"></span><br><span class="line">-- 创建 country 表：</span><br><span class="line">CREATE TABLE country(</span><br><span class="line">  id          INT          NOT NULL AUTO_INCREMENT,</span><br><span class="line">  countryname VARCHAR(255) NULL,</span><br><span class="line">  countrycode VARCHAR(255) NULL,</span><br><span class="line">  PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入 country 记录：</span><br><span class="line">INSERT country(countryname, countrycode)</span><br><span class="line">VALUES (&apos;中国&apos;, &apos;CN&apos;),</span><br><span class="line">       (&apos;美国&apos;, &apos;US&apos;),</span><br><span class="line">       (&apos;俄罗斯&apos;, &apos;RU&apos;),</span><br><span class="line">       (&apos;英国&apos;, &apos;GB&apos;),</span><br><span class="line">       (&apos;法国&apos;, &apos;FR&apos;);</span><br></pre></td></tr></table></figure><h3 id="1-2-创建类-Country"><a href="#1-2-创建类-Country" class="headerlink" title="1.2 创建类 Country"></a>1.2 创建类 Country</h3><p>在<code>src/main/java</code>下新建包：com.yefcion.mybatislearn.model</p><p>在 model 包下创建类 Country，这个类与数据库中的表 country 对应</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yefcion.mybatislearn.model;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Country</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String countryName;</span><br><span class="line">    <span class="keyword">private</span> String countryCode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-配置相关文件"><a href="#2-配置相关文件" class="headerlink" title="2. 配置相关文件"></a>2. 配置相关文件</h2><h3 id="2-1-配置-pom-xml"><a href="#2-1-配置-pom-xml" class="headerlink" title="2.1 配置 pom.xml"></a>2.1 配置 pom.xml</h3><p>修改项目根目录下的 <code>pom.xml</code> 文件，注意看 <!-- --> 部分注释。注意：JDK、MySQL 版本</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zte<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatisdoc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 设置源代码的编码方式 utf-8 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 设置编译源代码的 JDK 版本，与自己的 Java JDK 对应 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 添加重要的 MyBatis 的依赖坐标和 mysql 驱动的依赖坐标 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mysql 的版本看你是用的数据库是什么版本 Navicat 查看信息可以看到--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 IDEA 中，如果没有特殊配置过，修改完 pom 文件，需要手动导入下，写完后记得 <code>Import Changes</code></p><h3 id="2-2-配置-mybatis-config-xml"><a href="#2-2-配置-mybatis-config-xml" class="headerlink" title="2.2 配置 mybatis-config.xml"></a>2.2 配置 mybatis-config.xml</h3><p>在 <code>src/main/resources</code> 目录下创建 <code>mybatis-config.xml</code> 文件，内容如下。</p><p>注意：</p><p><code>&lt;dataSource type=&quot;UNPOOLED&quot;&gt;</code>  部分 <code>url/username/passwor</code>  的 <code>value</code>。</p><p><code>&lt;typeAliases&gt; &lt;mappers&gt;</code>  部分的地址</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE configuration</span></span><br><span class="line"><span class="meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span></span><br><span class="line"><span class="meta">        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;settings&gt;节点中的logImpl属性配置指定使用LOG4J输出日志。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;typeAliases&gt;元素下面配置了一个包名，通常确定一个类的时候需要使用类的全限定名称，例如com.yefcion.mybatislearn.model.Country。</span></span><br><span class="line"><span class="comment">        在MyBatis中需要频繁用到类的全限定名称，为了方便使用，我们配置了com.yefcion.mybatislearn.model包，这样配置后，在使用类的时候不需要写包名的部分，只使用Country即可。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.yefcion.mybatislearn.model"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;environments&gt;环境配置中主要配置了数据库连接，如这里我们使用的是本机MySql中的mybatis_action_db数据库，</span></span><br><span class="line"><span class="comment">        用户名为root，没有密码（大家可根据自己的实际情况修改数据库及用户名和密码）。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"UNPOOLED"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis_action_db?serverTimezone=UTC"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;mappers&gt;中配置了一个包含完整类路径的CountryMapper.xml，这是一个MyBatis的Sql语句和映射配置文件。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"com/yefcion/simple/mapper/CountryMapper.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-配置-CountryMapper-xml"><a href="#2-3-配置-CountryMapper-xml" class="headerlink" title="2.3 配置 CountryMapper.xml"></a>2.3 配置 CountryMapper.xml</h3><p>在<code>src/main/resources</code>下创建目录 com/yefcion/simple/mapper，然后在该目录下创建 CountryMapper.xml 文件，内容如下，注意 namespace</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.yefcion.simple.mapper.CountryMapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAll"</span> <span class="attr">resultType</span>=<span class="string">"Country"</span>&gt;</span></span><br><span class="line">        SELECT id,countryname,countrycode FROM country</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        yefcion.simple.mapper：XML的根元素，属性namespace定义了当前XML的命名空间。</span></span><br><span class="line"><span class="comment">        select：我们所定义的一个Select查询。</span></span><br><span class="line"><span class="comment">        id属性：定义了当前Select查询的唯一id。</span></span><br><span class="line"><span class="comment">        resultType：定义了当前查询的返回值类型，此处就是指实体类Country，前面配置中提到的包名主要用于这里，如果没有设置包名，此处就需要写成resultType=”com.yefcion.mybatislearn.model.Country”。</span></span><br><span class="line"><span class="comment">        SELECT id,countryname,countrycode FROM country：查询Sql语句。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4-配置-log4j-properties"><a href="#2-4-配置-log4j-properties" class="headerlink" title="2.4 配置 log4j.properties"></a>2.4 配置 log4j.properties</h3><p>在<code>src/main/resources</code>下新建 log4j.properties 文件，内容如下，注意第二行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">log4j.rootLogger=ERROR, stdout</span><br><span class="line">log4j.logger.com.yefcion.simple.mapper=TRACE</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br></pre></td></tr></table></figure><h2 id="3-编写测试代码"><a href="#3-编写测试代码" class="headerlink" title="3.编写测试代码"></a>3.编写测试代码</h2><p>在<code>src/test/java</code>下创建包：com.yefcion.mybatislearn.mapper，然后创建测试类 CountryMapperTest，代码如下。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yefcion.mybatislearn.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yefcion.mybatislearn.model.Country;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.Reader;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountryMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Reader reader = Resources.getResourceAsReader(<span class="string">"mybatis-config.xml"</span>);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader);</span><br><span class="line">            reader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;Country&gt; countryList = sqlSession.selectList(<span class="string">"selectAll"</span>);</span><br><span class="line">            printCountryList(countryList);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printCountryList</span><span class="params">(List&lt;Country&gt; countryList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Country country : countryList) &#123;</span><br><span class="line">            System.out.printf(<span class="string">"%-4d%4s%4s\n"</span>, country.getId(), country.getCountryName(), country.getCountryCode());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用 Junit 执行 Test，完成测试。</p><h2 id="4-各种报错"><a href="#4-各种报错" class="headerlink" title="4.各种报错"></a>4.各种报错</h2><p>1.Establishing SSL connection without server’s identity</p><p> <a href="https://blog.csdn.net/wd2014610/article/details/79666770" target="_blank" rel="noopener">https://blog.csdn.net/wd2014610/article/details/79666770</a> </p><p>关闭 SSL 连接</p><p>2.com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create conn</p><p> <a href="https://blog.csdn.net/badao_liumang_qizhi/article/details/86553776" target="_blank" rel="noopener">https://blog.csdn.net/badao_liumang_qizhi/article/details/86553776</a> </p><p>mysql maven 依赖版本和 使用的数据库的 版本不一致</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0-首先创建-Maven-项目&quot;&gt;&lt;a href=&quot;#0-首先创建-Maven-项目&quot; class=&quot;headerlink&quot; title=&quot;0. 首先创建 Maven 项目&quot;&gt;&lt;/a&gt;0. 首先创建 Maven 项目&lt;/h2&gt;&lt;p&gt;Maven 的包管理非常方便。在
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="Java" scheme="https://yefcion.gitee.io/blog/tags/Java/"/>
    
      <category term="MySQL" scheme="https://yefcion.gitee.io/blog/tags/MySQL/"/>
    
      <category term="MyBatis" scheme="https://yefcion.gitee.io/blog/tags/MyBatis/"/>
    
      <category term="SpringBoot" scheme="https://yefcion.gitee.io/blog/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis_01 配置 MyBatis 环境</title>
    <link href="https://yefcion.gitee.io/blog/2019/10/12/110-MyBatis00/"/>
    <id>https://yefcion.gitee.io/blog/2019/10/12/110-MyBatis00/</id>
    <published>2019-10-12T13:40:27.000Z</published>
    <updated>2020-03-22T01:00:51.003Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20200322090009.jpg" alt></p><p>配置中遇到很多问题，我做了修改，基本可以不看别的文档了。</p><p>放下参考文档，以示尊重：<a href="http://www.zwwhnly.com/mybatis/2019/06/28/mybatis-study-01.html" target="_blank" rel="noopener">MyBatis从入门到精通(一)：MyBatis入门</a></p><h2 id="0-首先创建-Maven-项目"><a href="#0-首先创建-Maven-项目" class="headerlink" title="0. 首先创建 Maven 项目"></a>0. 首先创建 Maven 项目</h2><p>Maven 的包管理非常方便。在 IDEA 中创建新项目，选中 Maven。</p><p>注意命名 </p><p>GroupId: com.yefcion</p><p>组织名，公司网址的反写 + 项目名称</p><p>ArtifactId: mybatis-learn</p><p>项目名-模块名</p><h2 id="1-创建一张表，写一个类"><a href="#1-创建一张表，写一个类" class="headerlink" title="1. 创建一张表，写一个类"></a>1. 创建一张表，写一个类</h2><h3 id="1-1-创建表-country"><a href="#1-1-创建表-country" class="headerlink" title="1.1 创建表 country"></a>1.1 创建表 country</h3><p>确认本地安装了数据库，或者连接服务器上的数据库也可以。注意，数据库登录账户、密码要在 <code>config.xml</code> 中配置。</p><p>使用 NaviCat 或者命令行登录自己要使用的数据库，输入如下代码，创建 <code>Country</code> 表。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 如果 mybatis_action_db 数据库不存在，就创建 mybatis_action_db 数据库：</span><br><span class="line">CREATE DATABASE IF NOT EXISTS mybatis_action_db DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line"></span><br><span class="line">-- 切换到 mybatis_action_db 数据库</span><br><span class="line">use mybatis_action_db;</span><br><span class="line"></span><br><span class="line">-- 删除classes表和students表（如果存在）：</span><br><span class="line">DROP TABLE IF EXISTS country;</span><br><span class="line"></span><br><span class="line">-- 创建 country 表：</span><br><span class="line">CREATE TABLE country(</span><br><span class="line">  id          INT          NOT NULL AUTO_INCREMENT,</span><br><span class="line">  countryname VARCHAR(255) NULL,</span><br><span class="line">  countrycode VARCHAR(255) NULL,</span><br><span class="line">  PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入 country 记录：</span><br><span class="line">INSERT country(countryname, countrycode)</span><br><span class="line">VALUES (&apos;中国&apos;, &apos;CN&apos;),</span><br><span class="line">       (&apos;美国&apos;, &apos;US&apos;),</span><br><span class="line">       (&apos;俄罗斯&apos;, &apos;RU&apos;),</span><br><span class="line">       (&apos;英国&apos;, &apos;GB&apos;),</span><br><span class="line">       (&apos;法国&apos;, &apos;FR&apos;);</span><br></pre></td></tr></table></figure><h3 id="1-2-创建类-Country"><a href="#1-2-创建类-Country" class="headerlink" title="1.2 创建类 Country"></a>1.2 创建类 Country</h3><p>在<code>src/main/java</code>下新建包：com.yefcion.mybatislearn.model</p><p>在 model 包下创建类 Country，这个类与数据库中的表 country 对应</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yefcion.mybatislearn.model;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Country</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String countryName;</span><br><span class="line">    <span class="keyword">private</span> String countryCode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-配置相关文件"><a href="#2-配置相关文件" class="headerlink" title="2. 配置相关文件"></a>2. 配置相关文件</h2><h3 id="2-1-配置-pom-xml"><a href="#2-1-配置-pom-xml" class="headerlink" title="2.1 配置 pom.xml"></a>2.1 配置 pom.xml</h3><p>修改项目根目录下的 <code>pom.xml</code> 文件，注意看 <!-- --> 部分注释。注意：JDK、MySQL 版本</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zte<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatisdoc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 设置源代码的编码方式 utf-8 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 设置编译源代码的 JDK 版本，与自己的 Java JDK 对应 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 添加重要的 MyBatis 的依赖坐标和 mysql 驱动的依赖坐标 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- mysql 的版本看你是用的数据库是什么版本 Navicat 查看信息可以看到--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 IDEA 中，如果没有特殊配置过，修改完 pom 文件，需要手动导入下，写完后记得 <code>Import Changes</code></p><h3 id="2-2-配置-mybatis-config-xml"><a href="#2-2-配置-mybatis-config-xml" class="headerlink" title="2.2 配置 mybatis-config.xml"></a>2.2 配置 mybatis-config.xml</h3><p>在 <code>src/main/resources</code> 目录下创建 <code>mybatis-config.xml</code> 文件，内容如下。</p><p>注意：</p><p><code>&lt;dataSource type=&quot;UNPOOLED&quot;&gt;</code>  部分 <code>url/username/passwor</code>  的 <code>value</code>。</p><p><code>&lt;typeAliases&gt; &lt;mappers&gt;</code>  部分的地址</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE configuration</span></span><br><span class="line"><span class="meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span></span><br><span class="line"><span class="meta">        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;settings&gt;节点中的logImpl属性配置指定使用LOG4J输出日志。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;typeAliases&gt;元素下面配置了一个包名，通常确定一个类的时候需要使用类的全限定名称，例如com.yefcion.mybatislearn.model.Country。</span></span><br><span class="line"><span class="comment">        在MyBatis中需要频繁用到类的全限定名称，为了方便使用，我们配置了com.yefcion.mybatislearn.model包，这样配置后，在使用类的时候不需要写包名的部分，只使用Country即可。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.yefcion.mybatislearn.model"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;environments&gt;环境配置中主要配置了数据库连接，如这里我们使用的是本机MySql中的mybatis_action_db数据库，</span></span><br><span class="line"><span class="comment">        用户名为root，没有密码（大家可根据自己的实际情况修改数据库及用户名和密码）。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"UNPOOLED"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis_action_db?serverTimezone=UTC"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;mappers&gt;中配置了一个包含完整类路径的CountryMapper.xml，这是一个MyBatis的Sql语句和映射配置文件。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"com/yefcion/simple/mapper/CountryMapper.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-配置-CountryMapper-xml"><a href="#2-3-配置-CountryMapper-xml" class="headerlink" title="2.3 配置 CountryMapper.xml"></a>2.3 配置 CountryMapper.xml</h3><p>在<code>src/main/resources</code>下创建目录 com/yefcion/simple/mapper，然后在该目录下创建 CountryMapper.xml 文件，内容如下，注意 namespace</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.yefcion.simple.mapper.CountryMapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAll"</span> <span class="attr">resultType</span>=<span class="string">"Country"</span>&gt;</span></span><br><span class="line">        SELECT id,countryname,countrycode FROM country</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        yefcion.simple.mapper：XML的根元素，属性namespace定义了当前XML的命名空间。</span></span><br><span class="line"><span class="comment">        select：我们所定义的一个Select查询。</span></span><br><span class="line"><span class="comment">        id属性：定义了当前Select查询的唯一id。</span></span><br><span class="line"><span class="comment">        resultType：定义了当前查询的返回值类型，此处就是指实体类Country，前面配置中提到的包名主要用于这里，如果没有设置包名，此处就需要写成resultType=”com.yefcion.mybatislearn.model.Country”。</span></span><br><span class="line"><span class="comment">        SELECT id,countryname,countrycode FROM country：查询Sql语句。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4-配置-log4j-properties"><a href="#2-4-配置-log4j-properties" class="headerlink" title="2.4 配置 log4j.properties"></a>2.4 配置 log4j.properties</h3><p>在<code>src/main/resources</code>下新建 log4j.properties 文件，内容如下，注意第二行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">log4j.rootLogger=ERROR, stdout</span><br><span class="line">log4j.logger.com.yefcion.simple.mapper=TRACE</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br></pre></td></tr></table></figure><h2 id="3-编写测试代码"><a href="#3-编写测试代码" class="headerlink" title="3.编写测试代码"></a>3.编写测试代码</h2><p>在<code>src/test/java</code>下创建包：com.yefcion.mybatislearn.mapper，然后创建测试类 CountryMapperTest，代码如下。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yefcion.mybatislearn.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yefcion.mybatislearn.model.Country;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.Reader;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountryMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Reader reader = Resources.getResourceAsReader(<span class="string">"mybatis-config.xml"</span>);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader);</span><br><span class="line">            reader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;Country&gt; countryList = sqlSession.selectList(<span class="string">"selectAll"</span>);</span><br><span class="line">            printCountryList(countryList);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printCountryList</span><span class="params">(List&lt;Country&gt; countryList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Country country : countryList) &#123;</span><br><span class="line">            System.out.printf(<span class="string">"%-4d%4s%4s\n"</span>, country.getId(), country.getCountryName(), country.getCountryCode());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用 Junit 执行 Test，完成测试。</p><h2 id="4-各种报错"><a href="#4-各种报错" class="headerlink" title="4.各种报错"></a>4.各种报错</h2><p>1.Establishing SSL connection without server’s identity</p><p> <a href="https://blog.csdn.net/wd2014610/article/details/79666770" target="_blank" rel="noopener">https://blog.csdn.net/wd2014610/article/details/79666770</a> </p><p>关闭 SSL 连接</p><p>2.com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create conn</p><p> <a href="https://blog.csdn.net/badao_liumang_qizhi/article/details/86553776" target="_blank" rel="noopener">https://blog.csdn.net/badao_liumang_qizhi/article/details/86553776</a> </p><p>mysql maven 依赖版本和 使用的数据库的 版本不一致</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/yefcion/PicData/master/img/20200322090009.jpg&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;配置中遇到很多问题，我做了修改，基本可以不看别的文档了。&lt;/p&gt;
&lt;
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="Java" scheme="https://yefcion.gitee.io/blog/tags/Java/"/>
    
      <category term="MySQL" scheme="https://yefcion.gitee.io/blog/tags/MySQL/"/>
    
      <category term="MyBatis" scheme="https://yefcion.gitee.io/blog/tags/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>Win10 下安装 MySQL 8.0.17</title>
    <link href="https://yefcion.gitee.io/blog/2019/10/09/108-MySQLinWindows/"/>
    <id>https://yefcion.gitee.io/blog/2019/10/09/108-MySQLinWindows/</id>
    <published>2019-10-09T14:56:37.000Z</published>
    <updated>2019-10-09T15:47:30.960Z</updated>
    
    <content type="html"><![CDATA[<p>写在前面</p><blockquote><p>因为之前装过很多次，均以失败告终，这次一次成功很意外，所以记录一下。</p></blockquote><h2 id="1-下载-amp-安装"><a href="#1-下载-amp-安装" class="headerlink" title="1. 下载&amp;安装"></a>1. 下载&amp;安装</h2><p>下载地址：<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p><p>MySQL 不需要安装，下载 zip 包解压放到指定路径即可。</p><p>如，我的解压路径是：<code>D:\ProjectV\mysql-8.0.17-winx64</code></p><h2 id="2-配置环境变量"><a href="#2-配置环境变量" class="headerlink" title="2. 配置环境变量"></a>2. 配置环境变量</h2><p><strong>首先</strong>新增变量：</p><p>变量名：MYSQL_HOME</p><p>变量值：D:\ProjectV\mysql-8.0.17-winx64</p><p><strong>然后</strong>到path里</p><p>添加：%MYSQL_HOME%\bin;</p><h2 id="3-生成-data-文件"><a href="#3-生成-data-文件" class="headerlink" title="3. 生成 data 文件"></a>3. 生成 data 文件</h2><p><code>以管理员身份</code>运行 cmd，一定要用管理员身份。进入 MySQL 安装目录的下 bin 目录，执行以下命令生成 data 目录。</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 进入 bin 目录</span><br><span class="line"><span class="built_in">cd</span> /d D:\ProjectV\mysql-<span class="number">8</span>.<span class="number">0</span>.<span class="number">17</span>-winx64\bin</span><br><span class="line"># 生成 data 目录</span><br><span class="line">mysqld --initialize-insecure --user=mysql</span><br></pre></td></tr></table></figure><h2 id="4-启动服务"><a href="#4-启动服务" class="headerlink" title="4. 启动服务"></a>4. 启动服务</h2><p>执行命令：<code>net start mysql</code> 启动mysql服务，若提示：服务名无效…(后面有解决方法==步骤：5）</p><h2 id="5-解决启动服务失败（报错）"><a href="#5-解决启动服务失败（报错）" class="headerlink" title="5. 解决启动服务失败（报错）"></a>5. 解决启动服务失败（报错）</h2><p>提示：服务名无效</p><p>解决方法：</p><p>执行命令：<code>mysqld -install</code>  即可</p><p>（不需要my.ini配置文件 注意：网上写的很多需要my.ini配置文件，其实不需要my.ini配置文件也可以，我之前放置了my.ini文件，反而提示服务无法启动，把my.ini删除后启动成功了）</p><p>若出现下图，需要去资源管理器中把mysql进程全结束了，重新启动即可。</p><p> <img src="https://images2018.cnblogs.com/blog/1283788/201803/1283788-20180312210208531-2077935748.png" alt="img"></p><h2 id="6-登录mysql"><a href="#6-登录mysql" class="headerlink" title="6. 登录mysql"></a>6. 登录mysql</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"></span><br><span class="line"># Enter password:</span><br><span class="line"># 这里由于刚安装，所以密码为空，不用输入密码，直接回车即可</span><br></pre></td></tr></table></figure><p><img src="http://m.qpic.cn/psb?/V10z9tn33iz4ON/v6YRmEl8iLImvqOcJB0Mmyou5Lrv6qO8rrXZpg.hQy4!/b/dMMAAAAAAAAA&bo=owL0AAAAAAARB2U!&rf=viewer_4" alt="登录"></p><h2 id="7-查询用户密码"><a href="#7-查询用户密码" class="headerlink" title="7. 查询用户密码"></a>7. 查询用户密码</h2><p>查询用户密码命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select host,user,authentication_string from mysql.user;</span><br></pre></td></tr></table></figure><p> <img src="https://images2018.cnblogs.com/blog/1283788/201803/1283788-20180312210245857-1758917794.png" alt="img"></p><h2 id="8-设置（或修改）root用户密码"><a href="#8-设置（或修改）root用户密码" class="headerlink" title="8. 设置（或修改）root用户密码"></a>8. 设置（或修改）root用户密码</h2><p>设置（或修改）root用户密码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;123456&apos;;</span><br><span class="line"># BY 后引号中的内容是密码，自己可以随便设置</span><br><span class="line"></span><br><span class="line">flush privileges; </span><br><span class="line"># 相当于保存，执行此命令后，设置才生效，若不执行，还是之前的密码不变</span><br></pre></td></tr></table></figure><p>Query OK, 0 rows affected (0.01 sec) </p><h2 id="9-退出mysql"><a href="#9-退出mysql" class="headerlink" title="9. 退出mysql"></a>9. 退出mysql</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;写在前面&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;因为之前装过很多次，均以失败告终，这次一次成功很意外，所以记录一下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-下载-amp-安装&quot;&gt;&lt;a href=&quot;#1-下载-amp-安装&quot; class=&quot;headerli
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="MySQL" scheme="https://yefcion.gitee.io/blog/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Hello Hexo</title>
    <link href="https://yefcion.gitee.io/blog/2019/09/27/100-hello-hexo/"/>
    <id>https://yefcion.gitee.io/blog/2019/09/27/100-hello-hexo/</id>
    <published>2019-09-27T14:54:30.000Z</published>
    <updated>2019-12-06T19:13:31.366Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo g# 生成 hexo generate</span><br><span class="line">hexo d# 发布 hexo deploy</span><br><span class="line">hexo s# 启动/重启 hexo server</span><br><span class="line">hexo clean# 清理缓存</span><br></pre></td></tr></table></figure><p>新建文章</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post &lt;文章名&gt;# 文章名无需加 .md</span><br></pre></td></tr></table></figure><p>其中 <code>post</code> 字段共 3 个参数可选</p><table><thead><tr><th>参数</th><th>功能</th><th>路径</th></tr></thead><tbody><tr><td>post</td><td>新建文章</td><td>/source/_posts/</td></tr><tr><td>draft</td><td>新建草稿</td><td>/source/_drafts/</td></tr><tr><td>page</td><td>新建页面（标签页，分类页等）</td><td>/source/</td></tr></tbody></table><h2 id="技术案例"><a href="#技术案例" class="headerlink" title="技术案例"></a>技术案例</h2><p>参考链接：<a href="https://zhih.me/hexo-casper-usage/" target="_blank" rel="noopener">Hexo 主题 casper 使用教程</a></p><p>直接使用原生主题 Casper 会出问题，我也不知道为什么，好像是插件问题。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="网站" scheme="https://yefcion.gitee.io/blog/tags/%E7%BD%91%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>命名规则</title>
    <link href="https://yefcion.gitee.io/blog/2019/09/27/000-BlogRule/"/>
    <id>https://yefcion.gitee.io/blog/2019/09/27/000-BlogRule/</id>
    <published>2019-09-27T06:59:46.000Z</published>
    <updated>2019-12-06T19:15:18.261Z</updated>
    
    <content type="html"><![CDATA[<h2 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h2><ul><li>000 - 建站规约</li><li>100 - 技术向</li><li>200 - 书评向</li><li>300 - 影评向</li><li>400 - 游记向</li><li>500 - 文学向</li><li>600 - 随笔向</li><li>700 - 纪年</li></ul>]]></content>
    
    <summary type="html">
    
      my blog server
    
    </summary>
    
    
      <category term="建站规约" scheme="https://yefcion.gitee.io/blog/categories/%E5%BB%BA%E7%AB%99%E8%A7%84%E7%BA%A6/"/>
    
    
      <category term="网站" scheme="https://yefcion.gitee.io/blog/tags/%E7%BD%91%E7%AB%99/"/>
    
      <category term="规则" scheme="https://yefcion.gitee.io/blog/tags/%E8%A7%84%E5%88%99/"/>
    
  </entry>
  
  <entry>
    <title>Java-开发常用工具清单</title>
    <link href="https://yefcion.gitee.io/blog/2019/09/17/107-Java-%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E6%B8%85%E5%8D%95/"/>
    <id>https://yefcion.gitee.io/blog/2019/09/17/107-Java-开发常用工具清单/</id>
    <published>2019-09-17T05:00:58.000Z</published>
    <updated>2019-09-28T10:28:42.768Z</updated>
    
    <content type="html"><![CDATA[<p>工具清单：</p><ul><li>IDE：IDEA、Eclipse</li><li>编辑器：VScode、Notepad++</li><li>数据库：MySQL、Redis、MyBatis</li><li>环境相关：Maven、Tomcat、docker</li><li>数据库工具：NaviCat</li><li>测试检查：JUnit、KW</li><li>版本管理：Git、Gerrit、Github、TortoiseGit</li></ul><p>技术栈（目前接触到的）：</p><ul><li>Java</li><li>Shell</li><li>SQL</li><li>Redis</li><li>MyBatis</li><li>docker</li><li>SpringWMC</li><li>python</li></ul>]]></content>
    
    <summary type="html">
    
      Java 常用 IDE
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="Java" scheme="https://yefcion.gitee.io/blog/tags/Java/"/>
    
      <category term="软件" scheme="https://yefcion.gitee.io/blog/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>从迅雷玩客云想到的网速制约因素及一点思考</title>
    <link href="https://yefcion.gitee.io/blog/2019/06/30/140-%E4%BB%8E%E8%BF%85%E9%9B%B7%E7%8E%A9%E5%AE%A2%E4%BA%91%E6%83%B3%E5%88%B0%E7%9A%84%E7%BD%91%E9%80%9F%E5%88%B6%E7%BA%A6%E5%9B%A0%E7%B4%A0%E5%8F%8A%E4%B8%80%E7%82%B9%E6%80%9D%E8%80%83/"/>
    <id>https://yefcion.gitee.io/blog/2019/06/30/140-从迅雷玩客云想到的网速制约因素及一点思考/</id>
    <published>2019-06-30T04:45:17.000Z</published>
    <updated>2019-09-28T13:00:19.295Z</updated>
    
    <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><blockquote><p>最近看到迅雷玩客云的广告，起了组建简易家庭NAS的心思，就下手了。结果使用效果不理想，局域网内看视频卡顿。仔细思考了一下，大概梳理了效果不佳的原因，如有缺漏请指正。</p></blockquote><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>首先画了一张玩客云的设备连接示意图，囊括玩客云的大部分使用场景（除电视）。</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629163258.png" alt="网络连接示意图"></p><p>如上图所示，图中黄、绿、蓝三种颜色画出部分代表了制约网速的关键部分，其中路由器是网络的源头。按颜色梳理数据在网络传输中的关键节点。</p><ol><li>黄 - 有线网络：路由器 LAN 口 - 网线 - 电脑网口</li><li>绿 - 无线网络：路由器射频芯片/天线 - 介质（空气+墙） - 手机/平板</li><li>蓝 - 硬盘传输：玩客云USB口 - 数据线 - 硬盘/U盘</li></ol><blockquote><p>注：由于我电脑用的无线网卡，所以「1.网线」情况在本文与「2.」类似</p></blockquote><p>从上面梳理可以看出，传输基本是「发送口-传输介质-接受口」的模式，这样的话很容易进行测试实验。于是通过控制变量法进行了测试，为方便观察把测试结果用 Excel 统计如下。</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629180300.png" alt="测试结果统计"></p><blockquote><p>注表中第二行 预测数据，本着同列最低传输速度除以2原则，这是凭经验设置的阈值，没理论依据。</p></blockquote><p>从上表可见，基于外网的测试结果基本还没有达到理论值的10%，预测值的20%。由此可见，很多设备的宣传不可轻信，网络数据传输基本遵循木桶效应，以最低传输速率为上限。再算上设备本身硬件损耗、软件负优化等，实际数据传输速率一般都很低，非常不好看。</p><p>内网（局域网）方面，最意外的是玩客云内部的数据复制测试，一部电影从外接玩客云的USB3.0的U盘里复制到同目录下，竟然才7.5MB/s，震惊了。后来分析了一下大概是因为玩客云设备性能太差，「ARM四核1.5GHz处理器，1GB+8GB内存组合」硬件差，系统肯定也不能跟Win比，所以落了这么个结果。真菜。</p><h2 id="支撑数据"><a href="#支撑数据" class="headerlink" title="支撑数据"></a>支撑数据</h2><p>首先科普一个概念「百兆网络」指100Mbps 即 100Mb/s=12.5MB/s。（因为 1Byte=8bit，读作 1 字节 等于 8 比特（位））</p><p>我们日常说的下载速度、视频缓存速度等，都是MB单位。所以有骂街「百兆网络」从没上「百兆」的同学，你们错怪他了，单位不同。</p><p><strong>路由器型号 TL-WDR5620</strong> [^1]支持 802.11ac，理论 2.4G 最高50MB/s，5G 最高 112.5MB/s</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629160725.png" alt></p><p><strong>手机型号 iPhone 6S</strong> [^2]支持 802.11ac，理论 2.4G 最高50MB/s，5G 最高 112.5MB/s</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629173900.png" alt></p><p><strong>网线类型 超五类</strong> [^3]传输带宽可高达1000Mb/s，但一般只应用在100Mb/s的网络中</p><p><strong>数据传输</strong> <strong>USB2.0</strong>[^4]的速率是60Mb/s，<strong>USB3.0</strong>[^5]的速率是640Mb/s</p><p><strong>无线网标准协议 802.11</strong></p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629182157.png" alt></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上就是这次的测试所得，可收获的知识点包括：<strong>无线网标准协议 802.11、网线类型、USB类型、百兆宽带通俗理解、网络传输顺序、理论与实际落差的思维准备、搭建伪NAS经验、玩客云踩雷</strong>。</p><p>然后说两句 5G，我个人期待没那么高。理论和实践的落差大家应该体验多次，该有一定的甄别和抗干扰能力，非常看不惯一些理由干瘪的 5G 吹。至于目前中兴、华为出的成果确实棒，但大家要理智啊，不要好好的事搞成了捧杀。</p><p>最后放两张百度百科截图。</p><p>（顺便再吐槽下这带的是什么单位 Mbps/s？？？ Mbps不就是 Mb per second么）</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629185151.png" alt></p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190629183322.png" alt></p><p>参考资料</p><p>[^1]: 路由器 TL-WDR5620 参数 <a href="http://detail.zol.com.cn/1162/1161644/param.shtml" target="_blank" rel="noopener">http://detail.zol.com.cn/1162/1161644/param.shtml</a><br>[^2]: 手机 iPhone 6s 参数 <a href="http://detail.zol.com.cn/369/368535/param.shtml" target="_blank" rel="noopener">http://detail.zol.com.cn/369/368535/param.shtml</a><br>[^3]: 网线类别 <a href="https://zhidao.baidu.com/question/464102059.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/464102059.html</a><br>[^4]: USB2.0 <a href="https://baike.baidu.com/item/USB%202.0?fromtitle=usb2.0&amp;fromid=8402158" target="_blank" rel="noopener">https://baike.baidu.com/item/USB%202.0?fromtitle=usb2.0&amp;fromid=8402158</a><br>[^5]: USB3.0 <a href="https://baike.baidu.com/item/USB%203.0?fromtitle=USB3.0&amp;fromid=8640396#2_1" target="_blank" rel="noopener">https://baike.baidu.com/item/USB%203.0?fromtitle=USB3.0&amp;fromid=8640396#2_1</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;写在前面&quot;&gt;&lt;a href=&quot;#写在前面&quot; class=&quot;headerlink&quot; title=&quot;写在前面&quot;&gt;&lt;/a&gt;写在前面&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;最近看到迅雷玩客云的广告，起了组建简易家庭NAS的心思，就下手了。结果使用效果不理想，局域网内看视
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="网络" scheme="https://yefcion.gitee.io/blog/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="硬件" scheme="https://yefcion.gitee.io/blog/tags/%E7%A1%AC%E4%BB%B6/"/>
    
      <category term="玩客云" scheme="https://yefcion.gitee.io/blog/tags/%E7%8E%A9%E5%AE%A2%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>河海大学摄影指南</title>
    <link href="https://yefcion.gitee.io/blog/2019/06/03/404-%E6%B2%B3%E6%B5%B7%E5%A4%A7%E5%AD%A6%E6%91%84%E5%BD%B1%E6%8C%87%E5%8D%97/"/>
    <id>https://yefcion.gitee.io/blog/2019/06/03/404-河海大学摄影指南/</id>
    <published>2019-06-03T04:45:17.000Z</published>
    <updated>2019-09-28T07:58:12.352Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>写在前面</p><p>因为要拍毕业照，所以把准备过程记录一下，方便以后回忆。或者帮其他人提供参考资料。</p><p>注：此处河海大学特指江宁校区，本部和常州校区之后可能会补充。</p></blockquote><p>直接放干货，这是我踩点整个校园之后，按场景分类排出的河海拍照思维导图。</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20198.png" alt="pic1.河海摄影场景分类"></p><p>如图所示，具体场景为 10 个，最后 1 个路为随处可见的场景。</p><p>具体拍摄路线可参考下图。</p><p><img src="https://raw.githubusercontent.com/yefcion/PicData/master/img/20190528224021.png" alt="pic2.拍摄路线"></p><p>按照上次拍照经验，1 点开拍，拍了 1、2、3、4、8、9 这 6 个点，所以一天的话是能拍完全部场景的。下面逐场景分析。</p><h3 id="01、校门草坪"><a href="#01、校门草坪" class="headerlink" title="01、校门草坪"></a>01、校门草坪</h3><ul><li><p>场景 校名、图书馆背景</p></li><li><p>着装 学位服、便装</p></li><li><p>姿势 标准姿势<a href="在开阔环境中，四人不使用道具可以摆出的姿势">^1</a></p></li></ul><h3 id="02、图书馆内"><a href="#02、图书馆内" class="headerlink" title="02、图书馆内"></a>02、图书馆内</h3><ul><li>场景<ul><li>一层 环形楼梯背景、俯拍</li><li>二层 西侧黄色格栅、灰色墙面、楼梯</li></ul></li><li>着装 便装</li><li>姿势 标准姿势、楼梯姿势<a href="楼梯场景有长腿效果">^2</a>、俯拍姿势<a href="摄影者从上往下拍，适合形状摆拍">^3</a></li><li>道具 书</li></ul><h3 id="03、小浪底"><a href="#03、小浪底" class="headerlink" title="03、小浪底"></a>03、小浪底</h3><ul><li><p>场景 </p><ul><li>石凳</li><li>水池、池岸</li><li>音乐台</li></ul></li><li><p>着装 学位服、便装</p></li><li><p>姿势 标准姿势、楼梯姿势、水岸姿势<a href="水边，可拍摄倒影">^4</a></p></li></ul><h3 id="04、致用楼"><a href="#04、致用楼" class="headerlink" title="04、致用楼"></a>04、致用楼</h3><ul><li>场景<ul><li>一楼 中间楼梯</li><li>二楼 阶梯教室、圆形拱门</li><li>三楼 走廊、普通教室（黑板、座位）</li></ul></li><li>着装 学位服、便装</li><li>姿势 标准姿势、黑板写画<a href="在黑板上写写画画，可事先准备内容">^5</a>、学习交流<a href="摄影对象间以学习为主的亲密互动">^6</a></li><li>道具 书</li></ul><h3 id="05、叠翠山"><a href="#05、叠翠山" class="headerlink" title="05、叠翠山"></a>05、叠翠山</h3><ul><li>场景 凉棚、草坪、蓝天</li><li>着装 便装</li><li>姿势 标准姿势</li></ul><h3 id="06、七食堂、思源楼"><a href="#06、七食堂、思源楼" class="headerlink" title="06、七食堂、思源楼"></a>06、七食堂、思源楼</h3><ul><li>场景 楼梯、双层楼梯</li><li>着装 便装</li><li>姿势 标准姿势</li></ul><h3 id="07、东湖"><a href="#07、东湖" class="headerlink" title="07、东湖"></a>07、东湖</h3><ul><li>场景<ul><li>桥</li><li>桥北</li><li>桥南楼上</li></ul></li><li>着装 便装</li><li>姿势 标准姿势、名作模仿<a href="事先选好要模仿的海报/插画/名画等">^7</a></li></ul><h3 id="08、操场"><a href="#08、操场" class="headerlink" title="08、操场"></a>08、操场</h3><ul><li>场景<ul><li>座位、楼梯</li><li>跑道</li><li>草坪</li><li>球网</li></ul></li><li>着装 学位服、便装</li><li>姿势 标准姿势、操场相关<a href="在操场这种颜色鲜艳、空间较大环境中的姿势">^8</a></li></ul><h3 id="09、勤学楼"><a href="#09、勤学楼" class="headerlink" title="09、勤学楼"></a>09、勤学楼</h3><ul><li>场景 天台</li><li>着装 学位服、便装</li><li>姿势 背影姿势<a href="以天空等为背景，适合背影、手势">^9</a></li></ul><h3 id="10、商院楼梯"><a href="#10、商院楼梯" class="headerlink" title="10、商院楼梯"></a>10、商院楼梯</h3><ul><li>场景 红色旋转楼梯</li><li>着装 学位服、便装</li><li>姿势 楼梯姿势</li></ul><p>综上，主要拍照姿势暂时9种，主要就是标准姿势<a href="在开阔环境中，四人不使用道具可以摆出的姿势">^1</a>，这个自己设定的空间很大，请务必自己想想有哪些想拍的姿势。其他的如名作模仿，需要选好自己想要的模仿对象。</p><p>按场景分类的姿势参考<a href="https://www.jianguoyun.com/p/DfExcm8QipPtBRjdt8gB" target="_blank" rel="noopener">链接</a>。</p>]]></content>
    
    <summary type="html">
    
      河海大学拍摄指南
    
    </summary>
    
    
      <category term="游记向" scheme="https://yefcion.gitee.io/blog/categories/%E6%B8%B8%E8%AE%B0%E5%90%91/"/>
    
    
      <category term="河海大学" scheme="https://yefcion.gitee.io/blog/tags/%E6%B2%B3%E6%B5%B7%E5%A4%A7%E5%AD%A6/"/>
    
      <category term="摄影" scheme="https://yefcion.gitee.io/blog/tags/%E6%91%84%E5%BD%B1/"/>
    
  </entry>
  
  <entry>
    <title>bat 批量移动文件到新文件夹</title>
    <link href="https://yefcion.gitee.io/blog/2019/04/23/106-%E6%89%B9%E5%A4%84%E7%90%86-%E6%89%B9%E9%87%8F%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E5%88%B0%E6%96%B0%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
    <id>https://yefcion.gitee.io/blog/2019/04/23/106-批处理-批量移动文件到新文件夹/</id>
    <published>2019-04-23T04:45:17.000Z</published>
    <updated>2019-09-28T07:43:54.759Z</updated>
    
    <content type="html"><![CDATA[<h3 id="0-命令说明"><a href="#0-命令说明" class="headerlink" title="0 命令说明"></a>0 命令说明</h3><p>移动文件 的batch命令格式是：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">move [文件名] [文件夹名]</span><br><span class="line">::例</span><br><span class="line">move [pic.jpg] [新建文件夹]</span><br></pre></td></tr></table></figure><h3 id="1-利用excel写批处理命令"><a href="#1-利用excel写批处理命令" class="headerlink" title="1 利用excel写批处理命令"></a>1 利用excel写批处理命令</h3><p>因此批量移动有规律的数字文件可以如下操作，以90001张图片（命名为0-90000.jpg）为例：</p><blockquote><p>有90001张图片，每隔25张移动一张到 <code>筛选</code> 文件夹</p></blockquote><p>在Excel表格中输入如下数据，第1、3列输入文字后直接拉取，第2列数字间隔25向下拉取</p><table><thead><tr><th>move</th><th><strong>0.jpg</strong></th><th><strong>筛选</strong></th></tr></thead><tbody><tr><td>move</td><td>25.jpg</td><td>筛选</td></tr><tr><td>move</td><td>50.jpg</td><td>筛选</td></tr><tr><td>move</td><td>75.jpg</td><td>筛选</td></tr><tr><td>…</td><td>… +25</td><td>…</td></tr><tr><td>move</td><td>90000.jpg</td><td>筛选</td></tr></tbody></table><h3 id="2-命令写入bat"><a href="#2-命令写入bat" class="headerlink" title="2 命令写入bat"></a>2 命令写入bat</h3><p>Excel中 <strong>ctrl + A</strong> 选中所有数据复制，到桌面（或其他地方）新建 <strong>move.txt</strong> 文件，打开后 将Excel中复制的数据粘贴进该 move.txt 文件，得到如下格式的内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">move0.jpg筛选</span><br><span class="line">move25.jpg筛选</span><br><span class="line">move50.jpg筛选</span><br><span class="line">move75.jpg筛选</span><br><span class="line">move100.jpg筛选</span><br><span class="line">move125.jpg筛选</span><br></pre></td></tr></table></figure><p>保存 move.txt 文件后重命名，将txt文件后缀改为bat，即 <code>move.bat</code> 。</p><h3 id="3-运行-bat-文件"><a href="#3-运行-bat-文件" class="headerlink" title="3 运行 bat 文件"></a>3 运行 bat 文件</h3><p>双击 move.bat 开始批处理移动操作。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;0-命令说明&quot;&gt;&lt;a href=&quot;#0-命令说明&quot; class=&quot;headerlink&quot; title=&quot;0 命令说明&quot;&gt;&lt;/a&gt;0 命令说明&lt;/h3&gt;&lt;p&gt;移动文件 的batch命令格式是：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table
      
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="bat" scheme="https://yefcion.gitee.io/blog/tags/bat/"/>
    
      <category term="Excel" scheme="https://yefcion.gitee.io/blog/tags/Excel/"/>
    
  </entry>
  
  <entry>
    <title>VPS-用搬瓦工（Bandwagon）搭建VPS实现科学上网</title>
    <link href="https://yefcion.gitee.io/blog/2019/04/12/105-VPS-%E7%94%A8%E6%90%AC%E7%93%A6%E5%B7%A5%EF%BC%88Bandwagon%EF%BC%89%E6%90%AD%E5%BB%BAVPS%E5%AE%9E%E7%8E%B0%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    <id>https://yefcion.gitee.io/blog/2019/04/12/105-VPS-用搬瓦工（Bandwagon）搭建VPS实现科学上网/</id>
    <published>2019-04-12T05:00:58.000Z</published>
    <updated>2019-09-28T13:10:38.913Z</updated>
    
    <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><ol><li>FQ是为了学习交流、使用工具</li><li>以国为荣，不惹事端<h3 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h3>网面上所有hosts（以<a href="https://laod.cn/hosts/2017-google-hosts.html" target="_blank" rel="noopener">老D博客</a>为例）不能用，各种VPN被封，导致我所使用的Google系列产品无法使用。最近看到一个朋友的技术贴，觉得FQ这种技术活掌握在手里也挺好，所以我也开始尝试了。<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3>这项活动不难，<code>按部就班</code>即可完成。当然，我的做法可能比较小白，无法发掘VPS全部功能，但是就我的初衷<code>顺利FQ</code>而言，完美稳定。<br>简单介绍一下梗概：</li><li>购买搬瓦工（Bandwagon）VPS</li><li>配置VPS</li><li>配置终端，PC/Android/IOS客户端</li><li>科学上网</li></ol><h3 id="1-购买VPS"><a href="#1-购买VPS" class="headerlink" title="1. 购买VPS"></a>1. 购买VPS</h3><pre><code>- 知名VPS服务商有：Bandwagon、Vultr 、 Linode。- 我使用Bandwagon，原因很简单：便宜，可支付宝。- KVM、$25.99 USD包年、USCA_2- 可以几个人合买哦，因为配置完之后理论上是没有使用人数限制的，只不过就像宽带一样，人多了速度自然就会慢了</code></pre><p>1.1 访问<a href="https://bwh1.net/index.php" target="_blank" rel="noopener">搬瓦工</a>网址<br><img src="http://upload-images.jianshu.io/upload_images/152050-448ccca37257ccf6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-13-49-45.jpg"></p><p>1.2 选择套餐，加入购物车：<br>本着价格优先和稳定够用的原则，我选了第二便宜的套餐（最便宜的套餐常年断货）<br>至于<code>KVM</code>还是<code>OVZ</code>，推荐KVM，这是一番比较之后的结果。看过的文章忘记保存，以后有机会的话放网址。<br>之后是套餐内容：<br><img src="http://upload-images.jianshu.io/upload_images/152050-ceeda80f2fc999a5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-13-50-52.jpg"></p><p>选择时长和服务器位置：包月、包年；洛杉矶、加拿大、日本等<br>我选择了<code>包年</code>、<code>洛杉矶_2</code></p><p>1.3 确认订单与付款<br><img src="http://upload-images.jianshu.io/upload_images/152050-7940554988367f0b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="搬瓦工主页"><br>这里可以填优惠码，用了会打折扣（和国内软件邀请机制一样，双方都有优惠），然后checkout<br>如果是新用户的话需要注册，要填的信息如下：姓名、邮件、地址、电话。这里可以选择支付宝(Alipay)付款，最后complete order完成。<br><img src="http://upload-images.jianshu.io/upload_images/152050-069211d54d513c03.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-04-47.jpg"></p><p>购买成功后，邮箱收到三封邮件，里面有重要信息（SSH port、VPS IP、root 临时密码）需要记录。之后有用。<br>以上VPS的购买完成，下面进入配置。</p><h3 id="2-配置VPS"><a href="#2-配置VPS" class="headerlink" title="2. 配置VPS"></a>2. 配置VPS</h3><p>2.1 返回home，进入client area，找到service，<code>my services</code>,进入<code>KiwiVM</code>控制面板<br><img src="http://upload-images.jianshu.io/upload_images/152050-20cd309768f31124.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-13-55-19.jpg"></p><p><img src="http://upload-images.jianshu.io/upload_images/152050-2089379a849ea0da.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-09-36.jpg"></p><p><img src="http://upload-images.jianshu.io/upload_images/152050-d6f03a2f0ad69183.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-11-46.jpg"></p><p>2.2 配置KiwiVM(核心在这里)<br>    面板中要用到的面板选项下图标出：<br><img src="http://upload-images.jianshu.io/upload_images/152050-9613cb6d0a43fc5d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-13-33.jpg"></p><pre><code>- main controls(主控中心)- install OS(安装系统)- root password modification(根密码修改)- KiwiVM password modification(KiwiVM密码修改)- Shadowsocks serve(Shadowsocks服务)- ShadowsocksR serve(ShadowsocksR服务)</code></pre><p>首先，可以修改用户名，这个就是个人喜好的问题，可以不改，之后配置没什么用。（ <del>但如果你用 putty 的话，这个就是登陆的名字，由于这个教程面向我这种小白用户，所以这段话可以忽略</del>）<br><img src="http://upload-images.jianshu.io/upload_images/152050-3119906b81068f92.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-29-50.jpg"></p><p>重装服务器系统。这里本来是默认装了CentOS的系统，但是清洁起见还是重装一下。<br>Main controls面板，单击Stop，然后Install new OS 这里，选择 CentOS-6-x86_64-bbr，勾选 I agree， 点击 Reload。然后看密码，或者修改。</p><pre><code>• Root password modification 这个是装系统之后，搬瓦工随机分配的密码，自己不能修改，`记录这里的信息`（邮箱里也会收到） • KiwiVM password modification 是登陆账号的密码，直接写新密码。这样的话最开始邮件收到的密码就可以不用了。从这步开始购买VPS时的邮件内容就不用了。</code></pre><p>常理的话控制面板应该如下，有ShadowsocksR Server和Shadowsocks serve，但是新装的服务器好像没了，因此要手动安装<br><img src="http://pb8ci5khn.bkt.clouddn.com/blog/20181201/wMC1ERhfiqAm.png" alt="mark"></p><p>安装 ShadowsocksR Server和Shadowsocks serve<br>直接点击<a href="https://kiwivm.64clouds.com/main-exec.php?mode=extras_shadowsocks" target="_blank" rel="noopener">链接</a>，快速啊安装shadowsocks服务<br>安装完成之后记录当前界面显示的消息，用客户端FQ就<code>靠这些信息</code>了。（另，保存该网址为书签，不知为什么安装shadowsocks后KiviVM面板上没有添加shadowsocks的菜单，所以为了以后方便查看，把这个网址保存书签把）<br>IP是首页’Main statistic’中的 ‘IP address’<br><img src="http://upload-images.jianshu.io/upload_images/152050-4411d763294d3c54.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-43-52.jpg"><br>以上VPS配置工作就完成了，只要在终端登录就可以实现科学上网了</p><h3 id="3-配置终端"><a href="#3-配置终端" class="headerlink" title="3. 配置终端"></a>3. 配置终端</h3><p>客户端下载，点击关键词即可下载。</p><ul><li>PC<br>  <a href="https://cache.cdn.bydisk.com/ShadowsocksR-4.7.0-win.7z" target="_blank" rel="noopener">SSR-4.7.0</a></li><li>IOS<br>  <a href="https://itunes.apple.com/us/app/wingy-http-s-socks5-proxy-utility/id1178584911" target="_blank" rel="noopener">Wingy</a><br>  <a href="https://itunes.apple.com/us/app/shadowrocket/id932747118" target="_blank" rel="noopener">shadowrocket</a></li><li>Android<br>  <a href="https://qiniucloud.download.storage.bydisk.com/ssr-3.4.0.5.apk" target="_blank" rel="noopener">SSR-3.4.0.5</a></li><li>MAC<br>  <a href="https://github.com/qinyuhang/ShadowsocksX-NG-R/releases" target="_blank" rel="noopener">ShadowrocksX-NG-R</a><br>  <a href="https://github.com/erguotou520/electron-ssr/releases" target="_blank" rel="noopener">electron-ssr</a></li></ul><p>配置案例：</p><ol><li><p>以win为例：<br>把ShadowsocksR Server的信息填到客户端，完成单击确定即可。<br><img src="http://upload-images.jianshu.io/upload_images/152050-82f31cec772d6186.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-14-58-39.jpg"></p></li><li><p>以IOS客户端Wing为例：<br>把ShadowsocksR Server的信息填到客户端，完成单击确定即可。<br><img src="http://upload-images.jianshu.io/upload_images/152050-06845dd196adc0e7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-12-01-15-03-56.jpg"></p></li></ol><p>测试网页：<br><a href="www.google.com.hk/?hl=zh-cn">Google</a><br><a href="https://www.facebook.com/" target="_blank" rel="noopener">Facebook</a></p><p>愉快上网。</p><p><img src="http://m.qpic.cn/psb?/V10z9tn33iz4ON/C6K2XHPp5GsV0.nsYSfLEHvXAnU*9orxloyoKmkv56c!/b/dL8AAAAAAAAA&bo=1QS5AgAAAAARB1o!&rf=viewer_4" alt="Google"></p>]]></content>
    
    <summary type="html">
    
      关于如何上网
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="Bandwagon" scheme="https://yefcion.gitee.io/blog/tags/Bandwagon/"/>
    
      <category term="VPS" scheme="https://yefcion.gitee.io/blog/tags/VPS/"/>
    
      <category term="网络" scheme="https://yefcion.gitee.io/blog/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>无声的告白译本对比</title>
    <link href="https://yefcion.gitee.io/blog/2019/04/04/205-%E6%97%A0%E5%A3%B0%E7%9A%84%E5%91%8A%E7%99%BD%E8%AF%91%E6%9C%AC%E5%AF%B9%E6%AF%94/"/>
    <id>https://yefcion.gitee.io/blog/2019/04/04/205-无声的告白译本对比/</id>
    <published>2019-04-04T15:56:17.000Z</published>
    <updated>2019-10-14T15:34:34.983Z</updated>
    
    <content type="html"><![CDATA[<p>本文共<code>十一个</code>对比，原文+译文。资料来自豆瓣一个书评，<a href="[https://book.douban.com/review/9720804/](https://book.douban.com/review/9720804/)">译文链接</a>。</p><p>声明：本文只代表我的个人观点，可以点上面链接看无评论版译文对比。</p><p><img src="https://upload-images.jianshu.io/upload_images/152050-35522a4e09505c65.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="一"><br>个人译本：</p><blockquote><p>对此法国人有一种说法：说一声再见，就会死去一点。那帮混蛋法国人对什么都有说法，但他们往往都是对的。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-380685024d8dbe12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="二"><br>个人译本：</p><blockquote><p>别了，朋友。我不会说再见。在说它仍有意义时，在它悲伤、孤独、决绝时，我已经说过了。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-f0d24b12285fe50d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="三"><br>个人译本：</p><blockquote><p>就在这时，一个梦幻般女子走了进来。那一瞬间，我觉得酒吧里没有了任何声音，时代精英不再唇枪舌剑，高脚凳上的醉汉停下了滔滔不绝，仿佛指挥家轻敲乐谱后，双手停在半空中，悬而未发。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-12ac0e00bff63748.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="四"><br>个人译本：</p><blockquote><p>姚译很好</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-434cfe6c40dcd912.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="五"><br>个人译本：</p><blockquote><p>我性格软弱，没胆识也没雄心。我抓住了一只黄铜戒指紧紧不放，结果却惊讶地发现它并不是黄金。我这种人一生中只有一个高光时刻，那就像是在高高秋千上的完美一荡。此后余生所追求的，不过是尽量不从人行道跌进水沟罢了。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-bd33ca6611dafa30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="六"><br>个人译本：</p><blockquote><p>你丈夫是个能够严格审视自我，认清自我的男人，这种禀赋并不多见。大多数人终其一生，不过是用半数精力去维护他们从未有过的尊严。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-0c55c8bedf034931.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="七"><br>个人译本：</p><blockquote><p>卢译很好</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-29f5601d5691114b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="八"><br>个人译本：</p><blockquote><p>一座相较而言并不特别糟糕的城市，它是富裕、繁荣、充满骄傲，还是失落、破败、充满空虚，完全取决于你，取决于你在其中的地位和你的个人成就。我没有。我不在乎。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-750d9123b8e27c59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="九"><br>个人译本：</p><blockquote><p>姚译很好</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-76702b96dfafd926.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十"><br>个人译本：</p><blockquote><p>我打起精神。我刚才一直歪歪扭扭地站在这儿，张着嘴呼吸，活像个女学生。她确实是个尤物。在近处看，她让我几乎无法动弹。【这个翻的比较烂】</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/152050-6fc899ca53213b81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十一"><br>个人译本：</p><blockquote><p>你没胆量，没脑子，没门路，没见识，只能摆摆不值钱的态度，却还指望别人为你哭泣。</p></blockquote><p>最终结果对比如下图所示。<br><img src="https://upload-images.jianshu.io/upload_images/152050-c1a7061c95177a73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="评分图"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">分值评分标准</span><br><span class="line"> 5   完美</span><br><span class="line"> 4     贴切</span><br><span class="line"> 3   有病词</span><br><span class="line"> 2   有病句</span><br><span class="line"> 1   垃圾</span><br></pre></td></tr></table></figure><p>均分：<br>译文版（宋佥   译） 3.6<br>读客版（姚向辉译） 3.5<br>南海版（卢肖慧译） 3.3<br>新星版（宋碧云译） 2.5</p><p>综合评价：<br>宋佥 译本能最准确地还原作者意思。虽然有点累赘、缺乏金句，但表意做的最好。个人首选宋译本。<br>姚向辉 译本表意有时不准，但句子简明扼要，行文像作者风格。<br>卢肖慧 译本不稳定，有时能译出很好地句子（超越其他三人），但大多数时候不行。<br>宋碧云 译本看了脑壳痛。</p>]]></content>
    
    <summary type="html">
    
      无声的告白
    
    </summary>
    
    
      <category term="书影向" scheme="https://yefcion.gitee.io/blog/categories/%E4%B9%A6%E5%BD%B1%E5%90%91/"/>
    
    
      <category term="书籍" scheme="https://yefcion.gitee.io/blog/tags/%E4%B9%A6%E7%B1%8D/"/>
    
      <category term="译本" scheme="https://yefcion.gitee.io/blog/tags/%E8%AF%91%E6%9C%AC/"/>
    
      <category term="English" scheme="https://yefcion.gitee.io/blog/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>PicGo + GitHub 搭建个人图床工具</title>
    <link href="https://yefcion.gitee.io/blog/2019/03/11/104-PicGo/"/>
    <id>https://yefcion.gitee.io/blog/2019/03/11/104-PicGo/</id>
    <published>2019-03-11T14:56:37.000Z</published>
    <updated>2019-12-06T19:11:43.011Z</updated>
    
    <content type="html"><![CDATA[<p>使用 GitHhub 搭建的图床，满足个人用户绝大部分需求。方便程度：★★★★☆  配置难度：★★☆☆☆</p><a id="more"></a><p>写在前面</p><blockquote><p>我以前用的 <code>七牛云 + Mpic</code> 的组合，后来由于七牛云测试域名收回，我的图床就废了。以前的好多图片都埋藏在七牛云的服务器上，又气又难过。思考好一段时间，想自己搭服务，但成本有点高，备案的域名 + 服务器一年几百块。对于我这种不靠写字谋生的人而言没有必要，所以就停摆了一段时间。直到今天用 GitHub 搭起了图床，可以说非常开心了。所以跟大家分享一下。</p></blockquote><ul><li>方便程度：★★★★☆</li><li>配置难度：★★☆☆☆</li><li>适用环境：win + mac + linux</li><li>需要工具：GitHub 账号 + PicGo 客户端</li><li>稳定性：背靠 GitHub 和微软，比自建服务器都稳</li><li>隐私性：这算是唯一缺点，你的图片别人可以访问</li></ul><h2 id="1-GitHub-仓库设置"><a href="#1-GitHub-仓库设置" class="headerlink" title="1. GitHub 仓库设置"></a>1. GitHub 仓库设置</h2><blockquote><p>流程：新建 public 仓库 -&gt; 创建 token -&gt; 复制 token 备用</p></blockquote><h3 id="1-1-新建仓库"><a href="#1-1-新建仓库" class="headerlink" title="1.1 新建仓库"></a>1.1 新建仓库</h3><p>点击 git 主页右上角的 <code>+</code> 创建 <code>New repository</code>；</p><p><img src="img/20190311222018.png" alt></p><p>填写仓库信息，例如我就创建了一个 <code>cloudimg</code> 的仓库。这里注意，仓库得设置为  <code>Public</code> 因为后面通过客户端访问算是外部访问，因此无法访问  <code>Private</code> ，这样的话图片传上来之后只能存储不能显示。所以要设置为 <code>Public</code>。</p><p><img src="img/20190311222514.png" alt></p><h3 id="1-2-创建-token-并复制保存"><a href="#1-2-创建-token-并复制保存" class="headerlink" title="1.2 创建 token 并复制保存"></a>1.2 创建 token 并复制保存</h3><p>此时仓库已经建立，点击右上角头像，然后进入设置；</p><p><img src="img/20190311222925.png" alt></p><p>在页面最下找到 <code>Developer settings</code>，点击进入；</p><p><img src="img/1552314691232.png" alt></p><p>创建 token；</p><p><img src="img/20190311223317.png" alt><br>填 description（也是随心填），勾选复选框 repo ，接着到页面底部 <code>Generate token</code> 就完成了；</p><p><img src="img/1552314907794.png" alt></p><p>然后复制生成一串字符 token，这个 token 只出现一次，所以要保存一下（我一般记在微信收藏）。</p><p><img src="img/20190311223901.png" alt></p><h2 id="2-PicGo-客户端配置"><a href="#2-PicGo-客户端配置" class="headerlink" title="2. PicGo 客户端配置"></a>2. PicGo 客户端配置</h2><h3 id="2-1-下载-amp-安装"><a href="#2-1-下载-amp-安装" class="headerlink" title="2.1 下载&amp;安装"></a>2.1 下载&amp;安装</h3><p>PicGo （目前 2.0.4）是一个开源的图床工具，非常优秀。可以到 git 上下载，但下载速度太慢，所以我放了一个百度云的链接，速度快很多。</p><p>git地址：<a href="https://github.com/Molunerfinn/PicGo" target="_blank" rel="noopener">PicGo</a></p><p>Win版下载链接：<a href="https://pan.baidu.com/s/17KycPMoqNCnc1cR_yQO8nQ" target="_blank" rel="noopener">百度云</a> 密码：PicG</p><h3 id="2-2-配置"><a href="#2-2-配置" class="headerlink" title="2.2 配置"></a>2.2 配置</h3><p>先上图</p><p><img src="img/20190311224443.png" alt></p><ul><li>用户名 即你的用户名 如我的 <code>yefcion</code></li><li>仓库名 即你的仓库名 如我的 <code>PicData</code></li><li>分支名 默认 <code>master</code>  </li><li>Token 就是刚刚复制的那一串字符</li><li>存储路径 这个可以填也可以不填，填了的话图片就上传到 git 中 <code>data</code>  这个文件夹</li><li>域名 <code>https://raw.githubusercontent.com/yefcion/PicData/master</code>这个要改一下 格式 <code>https://raw.githubusercontent.com/[用户名]/[仓库名]/master</code></li></ul><p>然后点确定就可以了。</p><p>然后关于上传的快捷键设置。默认的是 Mac 按键，推荐改成 <code>Ctrl + alt +c</code>。</p><p><img src="img/20190311224935.png" alt></p><p>综上，操作完成。</p><p>本方案唯一缺点，不能私人。但是考虑到 GitHub 上传的图在列表里没法预览，应该没人会闲着没事翻记录。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用 GitHhub 搭建的图床，满足个人用户绝大部分需求。方便程度：★★★★☆  配置难度：★★☆☆☆&lt;/p&gt;
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="图床" scheme="https://yefcion.gitee.io/blog/tags/%E5%9B%BE%E5%BA%8A/"/>
    
      <category term="Blog" scheme="https://yefcion.gitee.io/blog/tags/Blog/"/>
    
      <category term="GitHub" scheme="https://yefcion.gitee.io/blog/tags/GitHub/"/>
    
      <category term="PicGo" scheme="https://yefcion.gitee.io/blog/tags/PicGo/"/>
    
  </entry>
  
  <entry>
    <title>18_年记</title>
    <link href="https://yefcion.gitee.io/blog/2018/12/31/707-18-%E5%B9%B4%E8%AE%B0/"/>
    <id>https://yefcion.gitee.io/blog/2018/12/31/707-18-年记/</id>
    <published>2018-12-31T05:00:58.000Z</published>
    <updated>2020-03-21T16:41:37.607Z</updated>
    
    <content type="html"><![CDATA[<p><strong>娱乐：</strong></p><ul><li>读书 - 61本</li><li>影视 - 160 部 </li><li>摄影 - 每日一记 </li><li>出行 - 南京、上海、苏锡常、杭州 </li><li>线下 - 戏曲、话剧、演唱会、音乐节</li></ul><p><strong>推荐：</strong></p><ul><li>影 - 花样年华、重庆森林、方形</li><li>剧 - 请回答 1988、逃避虽可耻但有用</li><li>书 - 红楼梦、倚天屠龙记、长恨歌、北鸢、雪中悍刀行</li></ul><p>工作 - To be a ZTEr</p><p>学习 - 实验完成，待写论文</p><p>读书统计</p><p><img src="http://a3.qpic.cn/psb?/6ee074a0-6b62-4061-a4b1-8a668bfe6415/MQ76eg*QcGqDX1st9*nceTtS6lOpN.cZK6ybgwnYKBk!/b/dN4AAAAAAAAA&ek=1&kp=1&pt=0&tl=3&su=051176097&tm=1569643200&sce=0-12-12&rf=2-9" alt="读书统计"></p><p>观影统计</p><p><img src="http://a1.qpic.cn/psb?/6ee074a0-6b62-4061-a4b1-8a668bfe6415/FEeThGXEM05o0vIblqyriQqqE3s*dNg6xLLv7N3KFpM!/b/dIgBAAAAAAAA&ek=1&kp=1&pt=0&tl=3&su=094417553&tm=1569643200&sce=0-12-12&rf=2-9" alt="观影统计"></p><p>每日一记 365 日</p><p><img src="http://a2.qpic.cn/psb?/6ee074a0-6b62-4061-a4b1-8a668bfe6415/Fg0dHP4hmkbVAA2jxXyWGbEG*WlOsNNvFcTeDvi9gYE!/b/dA0BAAAAAAAA&ek=1&kp=1&pt=0&tl=3&su=028768833&tm=1569643200&sce=0-12-12&rf=2-9" alt="每日一记"></p><p>情绪曲线</p><p><img src="http://a4.qpic.cn/psb?/6ee074a0-6b62-4061-a4b1-8a668bfe6415/FxOW7lJlZbHsNLxtI7iJHA5lssGpgpwpoXHnsYRql4M!/b/dAsAAAAAAAAA&ek=1&kp=1&pt=0&tl=3&su=064824353&tm=1569643200&sce=0-12-12&rf=2-9" alt="情绪曲线"></p><blockquote><p>待你们从学校毕业，地上的瓜分之事自会找上门来，纵使厌恶也必须接受。你们会成为商人，成为编辑，成为官员。但在神的宝座上与神并肩而坐这种事，走过学生时代便不会再有，错过后便永远不再来。</p></blockquote>]]></content>
    
    <summary type="html">
    
      我的 2018 统计
    
    </summary>
    
    
      <category term="纪年" scheme="https://yefcion.gitee.io/blog/categories/%E7%BA%AA%E5%B9%B4/"/>
    
    
      <category term="研究生" scheme="https://yefcion.gitee.io/blog/tags/%E7%A0%94%E7%A9%B6%E7%94%9F/"/>
    
      <category term="统计" scheme="https://yefcion.gitee.io/blog/tags/%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>一场源自豆瓣的：西湖夜奔</title>
    <link href="https://yefcion.gitee.io/blog/2018/12/09/403-%E8%A5%BF%E6%B9%96%E5%A4%9C%E5%A5%94/"/>
    <id>https://yefcion.gitee.io/blog/2018/12/09/403-西湖夜奔/</id>
    <published>2018-12-09T04:45:17.000Z</published>
    <updated>2019-09-28T07:55:39.083Z</updated>
    
    <content type="html"><![CDATA[<p>余拏一小友，拥毳衣炉火，往湖心亭看雪</p><p>这次杭州之旅源于张岱的《湖心亭看雪》，契机是豆瓣主题 #视频·冬天里的第一场雪#，一位豆友的回复。</p><p>下午一点获悉西湖初雪，随即与好友商量一番，便起了夜奔西湖的心思。五点定了行程筹备出发，赶了赶高铁，晚九点半抵达杭州。出地铁寒气扑面、雪花纷飞、惊喜万分，便觉我这场湖心亭梦寻成了。到宾馆安顿收拾停当，十一点出发西湖，开始一场雪夜漫步。</p><p>从南宋御街出发，路古朴、银杏宜人，见到了这次旅途中成百上千雪人中的第一个。外面天极冷，初时雪落如撒盐，打在伞上沙沙作响，随后雪花渐大，看到了我对冬天的第一意象：路灯下的雪花纷飞。</p><p>后于涌金公园近西湖畔，顺时针环湖向前。撑伞、踩雪，到柳月优风，看到小朋友凌晨堆雪，到柳浪闻莺，遇夫妻一双，雪夜极似红拂。我与阿毛互叹，莫说相公痴，更有痴似相公者何止二人。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p56391285.webp" alt="红拂夜奔"><br>继续向前，目标雷峰塔。一路谈金庸、红楼、八卦、歌曲，像极了曲苑杂坛，好友博闻强识且健谈，我开心且享受。看着雷峰塔的影子行至景区，结果景区关闭。于是夜闯雷峰塔景区，躲过一波巡逻人员见到一面“夕照毓秀”的墙壁，便哼起了河海校歌，钟灵毓秀石头城。之后继续违规在景区内晃荡，又来了一波巡查，无奈只能退出去，回去的路上才发现有座亭子下面吊了三颗摄像头😂</p><p>出雷峰塔看看时间靠近两点，行程约西湖四分之一，纠结一会是否要走完西湖，想一想还得留余力第二天泛舟湖心亭便放弃了。于是返程，哼唱冰雨、校歌，途中偶遇两个跌落凡尘的柚子，捡一颗好看的带了回去。</p><p>至此西湖夜奔结束。是夜，满足了我对雪夜、西湖的意象，勾起了看通行红楼梦和87红楼梦剧的兴趣。</p><p>第二日，从观荷区近西湖，逆时针行走。看孤山、行白堤、过断桥，进平湖秋月，乘游船、登湖心亭。路上行人比肩接踵，绿杨白堤，断桥踩雪。</p><p>张岱崇祯五年，用一篇《湖心亭看雪》写下人生之大寂寞，386年后哄来我们看雪。登岸，湖心亭极小，10分钟即可绕行一周。见虫二碑，见湖心亭牌，见一姑娘美丽动人。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p56391286.webp" alt="湖心姑娘"><br>回望西湖景色，雾凇沆砀，天与云与山与水，上下一白。湖上影子，惟长堤一痕、断桥两座，其上人影绰绰，便知隔世。</p><p><img src="https://img1.doubanio.com/view/note/l/public/p56391287.webp" alt="上下一白"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;余拏一小友，拥毳衣炉火，往湖心亭看雪&lt;/p&gt;
&lt;p&gt;这次杭州之旅源于张岱的《湖心亭看雪》，契机是豆瓣主题 #视频·冬天里的第一场雪#，一位豆友的回复。&lt;/p&gt;
&lt;p&gt;下午一点获悉西湖初雪，随即与好友商量一番，便起了夜奔西湖的心思。五点定了行程筹备出发，赶了赶高铁，晚九点半抵
      
    
    </summary>
    
    
      <category term="游记向" scheme="https://yefcion.gitee.io/blog/categories/%E6%B8%B8%E8%AE%B0%E5%90%91/"/>
    
    
      <category term="西湖" scheme="https://yefcion.gitee.io/blog/tags/%E8%A5%BF%E6%B9%96/"/>
    
      <category term="豆瓣" scheme="https://yefcion.gitee.io/blog/tags/%E8%B1%86%E7%93%A3/"/>
    
      <category term="夜行" scheme="https://yefcion.gitee.io/blog/tags/%E5%A4%9C%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>OpenCV 读取视频并跳帧保存为图片</title>
    <link href="https://yefcion.gitee.io/blog/2018/07/31/103-OpenCV%E8%AF%BB%E5%8F%96%E8%A7%86%E9%A2%91%E5%B9%B6%E8%B7%B3%E5%B8%A7%E4%BF%9D%E5%AD%98%E4%B8%BA%E5%9B%BE%E7%89%87/"/>
    <id>https://yefcion.gitee.io/blog/2018/07/31/103-OpenCV读取视频并跳帧保存为图片/</id>
    <published>2018-07-31T04:45:17.000Z</published>
    <updated>2019-09-28T07:41:14.512Z</updated>
    
    <content type="html"><![CDATA[<h1 id="OpenCV读取视频并跳帧保存为图片"><a href="#OpenCV读取视频并跳帧保存为图片" class="headerlink" title="OpenCV读取视频并跳帧保存为图片"></a>OpenCV读取视频并跳帧保存为图片</h1><p>[TOC]</p><h3 id="介绍几个有关视频读取的函数："><a href="#介绍几个有关视频读取的函数：" class="headerlink" title="介绍几个有关视频读取的函数："></a>介绍几个有关视频读取的函数：</h3><h4 id="VideoCapture-VideoCapture"><a href="#VideoCapture-VideoCapture" class="headerlink" title="VideoCapture::VideoCapture"></a><strong>VideoCapture::VideoCapture</strong></h4><p>​    VideoCapture可以从文件中或者摄像头中读取视频，这是提供给C++的接口的，C的接口是CvCapture结构。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VideoCapture::VideoCapture(conststring&amp; filename)</span><br><span class="line">VideoCapture::VideoCapture(<span class="keyword">int</span> device)</span><br></pre></td></tr></table></figure><p>上面是初始化VideoCapture对象的，第一个是从文件中读取，第二个是从设备中读取，默认设备在这里是0；</p><p>例子：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VideoCapturecapture(“sample.avi”); <span class="comment">/*读取sample.avi文件*/</span></span><br><span class="line">VideoCapturecapture(<span class="number">0</span>); <span class="comment">/*如果只有一个摄像头，capture会得到摄像头的视频*/</span></span><br></pre></td></tr></table></figure><h4 id="VideoCapture-Open"><a href="#VideoCapture-Open" class="headerlink" title="VideoCapture::Open"></a><strong>VideoCapture::Open</strong></h4><p>​    打开视频文件或者视频设备（例如摄像头）。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> VideoCapture::open(<span class="keyword">const</span> <span class="built_in">string</span>&amp; filename)</span><br><span class="line"><span class="keyword">bool</span> VideoCapture::open(<span class="keyword">int</span> device)</span><br></pre></td></tr></table></figure><p>例子：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VideoCapturecapture;</span><br><span class="line">capture.open(<span class="string">"sample.avi"</span>);</span><br><span class="line"><span class="comment">/*这里的两句等效于上面的VideoCapturecapture("sample.avi")，capture.open(0)*/</span></span><br></pre></td></tr></table></figure><blockquote><p>上面的视频文件打开，用完后，最好调用 <strong>capture.release()</strong> 来关闭刚刚打开的文件</p></blockquote><h4 id="VideoCapture-release"><a href="#VideoCapture-release" class="headerlink" title="VideoCapture::release"></a><strong>VideoCapture::release</strong></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> VideoCapture::release()</span><br></pre></td></tr></table></figure><p>例子：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">capture.release(); <span class="comment">/*释放打开的视频*/</span></span><br></pre></td></tr></table></figure><h4 id="VideoCapture-isOpened"><a href="#VideoCapture-isOpened" class="headerlink" title="VideoCapture::isOpened"></a><strong>VideoCapture::isOpened</strong></h4><p>判断视频是否被打开，成功打开返回ture，否则false。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> VideoCapture::open(<span class="keyword">const</span> <span class="built_in">string</span>&amp; filename)</span><br><span class="line"><span class="keyword">bool</span> VideoCapture::open(<span class="keyword">int</span> device)</span><br></pre></td></tr></table></figure><h4 id="VideoCapture-grab"><a href="#VideoCapture-grab" class="headerlink" title="VideoCapture::grab"></a><strong>VideoCapture::grab</strong></h4><p>从视频文件中或者设备中获取下一帧，该方法成功调用返回ture；主要用于多摄像头情况下，特别当那些摄像头没有实现硬件同步。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> VideoCapture::grab()</span><br></pre></td></tr></table></figure><p>grab之后，需要调用retrive对获取的帧进行解码。</p><h4 id="VideoCapture-retrieve"><a href="#VideoCapture-retrieve" class="headerlink" title="VideoCapture::retrieve"></a><strong>VideoCapture::retrieve</strong></h4><p>对grab()得到的帧进行解码。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> VideoCapture::retrieve(Mat&amp; image, <span class="keyword">int</span> channel=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h4 id="VideoCapture-read"><a href="#VideoCapture-read" class="headerlink" title="VideoCapture::read"></a><strong>VideoCapture::read</strong></h4><p>获取、解码，这个方法结合了grab和retrieve，比较方便，</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VideoCapture&amp; VideoCapture::<span class="keyword">operator</span>&gt;&gt;(Mat&amp; image)</span><br><span class="line"><span class="keyword">bool</span> VideoCapture::read(Mat&amp; image)</span><br></pre></td></tr></table></figure><p>例子1：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一</span></span><br><span class="line"><span class="keyword">if</span>(!capture.read(frame))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"读取视频失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span><span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//方法二</span></span><br><span class="line">capture &gt;&gt;frame;</span><br></pre></td></tr></table></figure><p> 这两个方法都可以，不过第一个能够判断，建议使用第一个，程序更健壮。</p><h4 id="VideoCapture-get"><a href="#VideoCapture-get" class="headerlink" title="VideoCapture::get"></a><strong>VideoCapture::get</strong></h4><p>返回VideoCapture的一些属性</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> VideoCapture::get(<span class="keyword">int</span> propId)</span><br></pre></td></tr></table></figure><p>probId可以是下面的：</p><p>·  <strong>CV_CAP_PROP_POS_MSEC</strong> Current position of the video file in milliseconds or video capture timestamp.</p><p>·  <strong>CV_CAP_PROP_POS_FRAMES</strong> 0-basedindex of the frame to be decoded/captured next.</p><p>·  <strong>CV_CAP_PROP_POS_AVI_RATIO</strong> Relativeposition of the video file: 0 - start of the film, 1 - end of the film.</p><p>·  <strong>CV_CAP_PROP_FRAME_WIDTH</strong> Width of theframes in the video stream.</p><p>·  <strong>CV_CAP_PROP_FRAME_HEIGHT</strong> Height ofthe frames in the video stream.</p><p>·  <strong>CV_CAP_PROP_FPS</strong> Frame rate.</p><p>·  <strong>CV_CAP_PROP_FOURCC</strong> 4-character code of codec.</p><p>·  <strong>CV_CAP_PROP_FRAME_COUNT</strong> Number of frames in the video file.</p><p>·  <strong>CV_CAP_PROP_FORMAT</strong> Format ofthe Mat objects returned by retrieve() .</p><p>·  <strong>CV_CAP_PROP_MODE</strong> Backend-specificvalue indicating the current capture mode.</p><p>·  <strong>CV_CAP_PROP_BRIGHTNESS</strong> Brightness of the image (only for cameras).</p><p>·  <strong>CV_CAP_PROP_CONTRAST</strong> Contrast of the image (only for cameras).</p><p>·  <strong>CV_CAP_PROP_SATURATION</strong> Saturation of the image (only for cameras).</p><p>·  <strong>CV_CAP_PROP_HUE</strong> Hue of theimage (only for cameras).</p><p>·  <strong>CV_CAP_PROP_GAIN</strong> Gain of theimage (only for cameras).</p><p>·  <strong>CV_CAP_PROP_EXPOSURE</strong> Exposure(only for cameras).</p><p>·  <strong>CV_CAP_PROP_CONVERT_RGB</strong> Boolean flags indicating whether images should be converted to RGB.</p><p>·  <strong>CV_CAP_PROP_WHITE_BALANCE</strong> Currently not supported</p><p>·  <strong>CV_CAP_PROP_RECTIFICATION</strong> Rectification flag for stereo cameras (note: only supported by DC1394 v 2.x backendcurrently)</p><h4 id="VideoCapture-set"><a href="#VideoCapture-set" class="headerlink" title="VideoCapture::set"></a><strong>VideoCapture::set</strong></h4><p>VideoCapture类的set方法可以允许我们取出视频中某个位置的帧，它有一些参数，可以按时间，也可以按帧号，还可以按视频长短的比例。 </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> VideoCapture::<span class="built_in">set</span>(<span class="keyword">int</span> propId, <span class="keyword">double</span> value)</span><br></pre></td></tr></table></figure><p>例子：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第100帧</span></span><br><span class="line"><span class="keyword">double</span> position=<span class="number">100.0</span>;</span><br><span class="line">capture.<span class="built_in">set</span>(CV_CAP_PROP_POS_FRAMES,position);</span><br><span class="line"><span class="comment">// 第1e6毫秒</span></span><br><span class="line"><span class="keyword">double</span> position=<span class="number">1e6</span>;</span><br><span class="line">capture.<span class="built_in">set</span>(CV_CAP_PROP_POS_MSEC,position);</span><br><span class="line"><span class="comment">// 视频1/2位置</span></span><br><span class="line"><span class="keyword">double</span> position=<span class="number">0.5</span>;</span><br><span class="line">capture.<span class="built_in">set</span>(CV_CAP_PROP_POS_AVI_RATIO,position);</span><br></pre></td></tr></table></figure><h3 id="实例："><a href="#实例：" class="headerlink" title="实例："></a>实例：</h3><p>下面的是视频读取和将视频内的画面转化为图片的代码，里面的注释应该足够解释了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/imgproc/imgproc.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">VideoCapture <span class="title">capture</span><span class="params">( <span class="string">"E:/Data/警戒线/@20180727105959_20180727115959_2502.avi"</span> )</span></span>;<span class="comment">/*打开视频文件：其实就是建立一个VideoCapture结构*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !capture.isOpened( ) )<span class="comment">/*检测是否正常打开:成功打开时，isOpened返回ture*/</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"fail toopen!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> totalFrameNumber = capture.get( CV_CAP_PROP_FRAME_COUNT );<span class="comment">/*获取视频帧数*/</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"整个视频共"</span> &lt;&lt; totalFrameNumber &lt;&lt; <span class="string">"帧"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> frameToStart = <span class="number">1</span>;</span><br><span class="line">capture.<span class="built_in">set</span>( CV_CAP_PROP_POS_FRAMES, frameToStart );<span class="comment">/*设置开始帧*/</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"从第"</span> &lt;&lt; frameToStart &lt;&lt; <span class="string">"帧开始读"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> frameToStop = <span class="number">300</span>;<span class="comment">/*设置结束帧*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( frameToStop &lt; frameToStart )</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"结束帧小于开始帧，程序错误，即将退出！"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"结束帧为：第"</span> &lt;&lt; frameToStop &lt;&lt; <span class="string">"帧"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> rate = capture.get( CV_CAP_PROP_FPS );<span class="comment">/*获取帧率*/</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"帧率为:"</span> &lt;&lt; rate &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mat frame;<span class="comment">/*承载每一帧的图像*/</span></span><br><span class="line"><span class="keyword">bool</span> stop = <span class="literal">false</span>;<span class="comment">/*定义一个用来控制读取视频循环结束的变量*/</span></span><br><span class="line"><span class="keyword">double</span> delay = <span class="number">1000</span> / rate;<span class="comment">/*两帧间的间隔时间:waitKey(intdelay=0)当delay≤ 0时会永远等待；当delay&gt;0时会等待delay毫秒*/</span></span><br><span class="line"><span class="keyword">long</span> currentFrame = frameToStart;<span class="comment">/*currentFrame是在循环体中控制读取到指定的帧后循环结束的变量*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//利用while循环读取帧</span></span><br><span class="line"><span class="keyword">while</span> ( !stop )</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//读取下一帧</span></span><br><span class="line"><span class="keyword">if</span> ( !capture.read( frame ) )</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"读取视频失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//cout &lt;&lt; "正在读取第" &lt;&lt; currentFrame &lt;&lt; "帧" &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//namedWindow( "Extractedframe" );</span></span><br><span class="line"><span class="comment">//imshow( "Extractedframe", frame );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 每隔50帧写一次图片</span></span><br><span class="line"><span class="keyword">if</span> ( currentFrame % <span class="number">50</span> == <span class="number">0</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"正在写第"</span> &lt;&lt; currentFrame &lt;&lt; <span class="string">"帧"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">stringstream</span> str;</span><br><span class="line">str &lt;&lt; <span class="string">"G:/test_pic/"</span> &lt;&lt; currentFrame &lt;&lt; <span class="string">".png"</span>;<span class="comment">/*图片存储位置*/</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; str.str( ) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">imwrite( str.str( ), frame );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当时间结束前没有按键按下时，返回值为-1；否则返回按键</span></span><br><span class="line"><span class="keyword">int</span> c = waitKey( delay );</span><br><span class="line"><span class="keyword">if</span> ( ( <span class="keyword">char</span> )c == <span class="number">27</span> || currentFrame &gt; frameToStop )<span class="comment">/*按下ESC或者到达指定的结束帧后退出读取视频*/</span></span><br><span class="line">&#123;</span><br><span class="line">stop = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ( c &gt;= <span class="number">0</span> )<span class="comment">/*按下按键后会停留在当前帧，等待下一次按键*/</span></span><br><span class="line">&#123;</span><br><span class="line">waitKey( <span class="number">0</span> );</span><br><span class="line">&#125;</span><br><span class="line">currentFrame++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭视频文件</span></span><br><span class="line">capture.release( );</span><br><span class="line">waitKey( <span class="number">0</span> );</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结果："><a href="#结果：" class="headerlink" title="结果："></a>结果：</h3><p>读取后的图片，因为图片很多，上面代码在设置的时候，只读取了300帧</p>]]></content>
    
    <summary type="html">
    
      opencv
    
    </summary>
    
    
      <category term="技术向" scheme="https://yefcion.gitee.io/blog/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"/>
    
    
      <category term="OpenCV" scheme="https://yefcion.gitee.io/blog/tags/OpenCV/"/>
    
      <category term="图像处理" scheme="https://yefcion.gitee.io/blog/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
      <category term="C++" scheme="https://yefcion.gitee.io/blog/tags/C/"/>
    
      <category term="视频" scheme="https://yefcion.gitee.io/blog/tags/%E8%A7%86%E9%A2%91/"/>
    
      <category term="帧" scheme="https://yefcion.gitee.io/blog/tags/%E5%B8%A7/"/>
    
  </entry>
  
  <entry>
    <title>大报恩寺导览</title>
    <link href="https://yefcion.gitee.io/blog/2018/07/22/402-%E5%A4%A7%E6%8A%A5%E6%81%A9%E5%AF%BA%E5%AF%BC%E8%A7%88/"/>
    <id>https://yefcion.gitee.io/blog/2018/07/22/402-大报恩寺导览/</id>
    <published>2018-07-22T04:45:17.000Z</published>
    <updated>2019-09-28T10:20:46.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="大报恩寺"><a href="#大报恩寺" class="headerlink" title="大报恩寺"></a>大报恩寺</h1><blockquote><p>科技为骨，宗教、历史为肉体，灯光玻璃掩映，形意兼备，神清气朗</p></blockquote><p>张岱在陶庵梦忆里写报恩塔，称之大国古董、永乐窑器，以小喻大，足见精致。张先生是个审美品位刁钻且精准的人，他很推崇的点我很想去见识一下。</p><p>想了两三次，去了一次被拒，今天终于进了大报恩寺景区。不同于去过的其他露天寺、庙，大报恩寺算是一处室内景点。进景区，过走道，入场馆，左手边是游览起点。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p52457284.webp" alt="景区入口"></p><p>场馆整体用玻璃造就，透光好。室内BGM选的好，大气不疏离，慈祥不随意。向前第一处是<code>长干佛脉</code>，见琉璃璀璨、见毁弃残存的基底、见历史传说。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p52457292.webp" alt="景区入口"></p><p>而后转角，转身即是<code>千年对望</code>，佛祖头像与玄奘对望凝视非常震撼。从长廊向玄奘走去，脚下步步生莲，一共七朵，一步一莲花这种意境真是被阐述地恰到好处。(<em>我想看看原理，特意试着踩灯芯莲花不开，确认了传感器在玻璃下地灯的边缘，这种结合真是漂亮。</em>)</p><p><img src="https://img3.doubanio.com/view/note/l/public/p52457300.webp" alt="千年对望"></p><p>再往前是《国家宝藏》中秦海璐守护的国宝<code>琉璃拱门</code>。拱门华丽闪光，门上雕刻栩栩如生有威严。而后<code>莲池海会</code>，灯光与科技营造出的景象当真使人深陷其中无法自拔，在此尤其佩服大报恩寺遗址的建设团队。（<em>这里我没有拍好，必须身历其境才能体会</em>）</p><p><img src="https://img1.doubanio.com/view/note/l/public/p52457157.webp" alt="莲池海会"></p><p>而后<code>南朝四百八十寺</code>，一座座知名的古寺模型陈列在展厅：鸡鸣寺、栖霞寺、灵谷寺等。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p52457343.webp" alt="寺庙陈列"></p><p>往前，过飞天走廊，迎面<code>舍利佛光</code>相当梦幻，一方空间里全是闪烁的星星，中心设有佛像从而使这里不至于轻浮。关于佛光，也是有着典故，用现代科技去还原历史故事，而且做的不过分这是最难的地方。</p><p><img src="http://pb8ci5khn.bkt.clouddn.com/blog/180722/lECADb2lfG.png" alt="舍利佛光"></p><p>再往后到一处令我震撼最深的地方<code>感恩众生</code>，这里像是种了《阿凡达》里的神树，树枝条状垂下，树下众生芸芸，整个场景如梦般美丽与震撼，自己化成了树下众生之一，面对天道轮回。也是在这里我有心向佛了。为了不破意境，这里放一张看不出什么的图。有机会一定要去亲身体会，大报恩寺-感恩众生。</p><p><img src="https://img3.doubanio.com/view/note/l/public/p52457161.webp" alt="感恩众生"></p><p>出这方空间，迎来一个比较安静祥和的画面，菩提树下释迦摩尼参禅。这时候遇到一个小姑娘，很是应景。</p><p> <img src="https://img3.doubanio.com/view/note/l/public/p52457164.webp" alt="菩提树"></p><p>之后，走古色古香的文化长廊，两边有风趣的画作，可以留意看一下。</p><p><img src="http://pb8ci5khn.bkt.clouddn.com/blog/180722/h2BI28jjHc.png" alt="文化长廊"></p><p>最后便是终点，可以买些纪念品。</p><p>另外提一句，晚上7点半开始会有报恩寺感恩演出，据说质量很高不亚于话剧表演。</p><p>大报恩寺是我见过现代科技和宗教文化结合最好的地方，用科技还原精神世界中的可能，真是太美妙了。千年对望、莲池海会、舍利佛光、感恩众生，处处是对光的运用和对科技的把控。这种创新与设计感，非常值得尊重。</p><p>我逛过千篇一律的古镇、摊点相同文化小街、遮遮掩掩的园林故里、泰安的山、连云港的海，真正喜欢的却并不多。</p><p>法起寺、灵谷寺、金山寺、大报恩寺，可能我的审美品味都交给这几座寺庙了吧。</p><blockquote><p>千年对望那一处，确认下眼神</p></blockquote>]]></content>
    
    <summary type="html">
    
      大报恩寺
    
    </summary>
    
    
      <category term="游记向" scheme="https://yefcion.gitee.io/blog/categories/%E6%B8%B8%E8%AE%B0%E5%90%91/"/>
    
    
      <category term="大报恩寺" scheme="https://yefcion.gitee.io/blog/tags/%E5%A4%A7%E6%8A%A5%E6%81%A9%E5%AF%BA/"/>
    
      <category term="景点" scheme="https://yefcion.gitee.io/blog/tags/%E6%99%AF%E7%82%B9/"/>
    
      <category term="建筑" scheme="https://yefcion.gitee.io/blog/tags/%E5%BB%BA%E7%AD%91/"/>
    
  </entry>
  
</feed>
